(global.webpackJsonp=global.webpackJsonp||[]).push([["pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas"],{568:
/*!*******************************************************************************************************************!*\
  !*** D:/laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas.vue ***!
  \*******************************************************************************************************************/
/*! no static exports found */function(n,t,e){"use strict";e.r(t);var i=e(/*! ./ShareCanvas.vue?vue&type=template&id=e7a7a554&scoped=true& */569),a=e(/*! ./ShareCanvas.vue?vue&type=script&lang=js& */571);for(var r in a)"default"!==r&&function(n){e.d(t,n,function(){return a[n]})}(r);e(/*! ./ShareCanvas.vue?vue&type=style&index=0&id=e7a7a554&lang=scss&scoped=true& */575);var o=e(/*! ../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js */24),s=Object(o.default)(a.default,i.render,i.staticRenderFns,!1,null,"e7a7a554",null);s.options.__file="laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas.vue",t.default=s.exports},569:
/*!**************************************************************************************************************************************************************!*\
  !*** D:/laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas.vue?vue&type=template&id=e7a7a554&scoped=true& ***!
  \**************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(n,t,e){"use strict";e.r(t);var i=e(/*! -!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ShareCanvas.vue?vue&type=template&id=e7a7a554&scoped=true& */570);e.d(t,"render",function(){return i.render}),e.d(t,"staticRenderFns",function(){return i.staticRenderFns})},570:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas.vue?vue&type=template&id=e7a7a554&scoped=true& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(n,t,e){"use strict";e.r(t),e.d(t,"render",function(){return i}),e.d(t,"staticRenderFns",function(){return a});var i=function(){var n=this.$createElement;this._self._c},a=[];i._withStripped=!0},571:
/*!********************************************************************************************************************************************!*\
  !*** D:/laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************************************************************/
/*! no static exports found */function(n,t,e){"use strict";e.r(t);var i=e(/*! -!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ShareCanvas.vue?vue&type=script&lang=js& */572),a=e.n(i);for(var r in i)"default"!==r&&function(n){e.d(t,n,function(){return i[n]})}(r);t.default=a.a},572:
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(n,t,e){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a=(i=e(/*! ./node_modules/@babel/runtime/regenerator */13))&&i.__esModule?i:{default:i},r=function(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(n,e):{};i.get||i.set?Object.defineProperty(t,e,i):t[e]=n[e]}return t.default=n,t}(e(/*! ./ShareCanvasUtil.js */573)),o=e(/*! @/config/image.js */34),s=e(/*! @/api/wx.js */574);function c(n,t,e,i,a,r,o){try{var s=n[r](o),c=s.value}catch(n){return void e(n)}s.done?t(c):Promise.resolve(c).then(i,a)}var h={data:function(){return{canvas:null,canvasComponent:null,hideShareCanvas:!0,shareCanvas:null,hideBtnSet:!1,hideBox:!0,downloadImg:o.DOWNLOAD_IMG,qRCodeUrl:""}},props:{width:{type:Number,required:!0},height:{type:Number,required:!0},config:{type:Object,defautl:function(){return{}}}},mounted:function(){this.canvasComponent=wx.createCanvasContext("canvas",this)},methods:{checkPermission:function(){var n=this;this.canvas&&this.canvas.checkPermission().then(function(t){t.code==r.renum.UNAUTHORIZED?n.showJump():t.code==r.renum.NOPERMISSION||t.code==r.renum.HASPERMISSION?n.showShareCanvas():console.warn("检测权限返回结果错误")})},junpAuthorization:function(){r.IWX.invoke("openSetting")},showBox:function(){this.hideBox=!1},showShareCanvas:function(){this.hideBox=!1,this.hideShareCanvas=!1,this.hideBtnSet=!1},showJump:function(){this.hideBox=!1,this.hideShareCanvas=!1,this.hideBtnSet=!0},hideCanvas:function(n){n!=r.renum.INITIATIVE&&"box"!=n.currentTarget.dataset.mark||(this.hideBox=!0,this.hideShareCanvas=!0)},switchAuthorization:function(){this.hideCanvas(r.renum.INITIATIVE),this.hideBtnSet=!0},saveForAlubm:function(){var n=this;this.getTempImgPath().then(function(t){n.canvas.saveImgLocal(t).then(function(t){n.hideCanvas(r.renum.INITIATIVE)}).catch(function(t){n.switchAuthorization()})})},drawShareCanvas:function(){var t=this;this.canvas.draw().then(function(n){t.showShareCanvas()}).catch(function(n){n.code==r.renum.UNAUTHORIZED&&t.showJump()}).then(function(t){n.hideLoading()})},share:function(){var t,e=(t=a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!this.miniCodeUrl,!t.t0){t.next=5;break}return t.next=4,this.genderMiniCode();case 4:this.miniCodeUrl=t.sent;case 5:null===this.canvas?(n.showLoading({title:"正在加载"}),this.canvas=new r.default({ctx:this.canvasComponent,imgUrl:this.config.imgUrl,qRCodeUrl:this.qRCodeUrl,title:this.config.title,price:this.config.price,width:this.width,height:this.height,qRCodeWidth:280}),this.checkPermission(),this.showBox(),this.drawShareCanvas()):(this.showBox(),this.canvas.isDraw||this.drawShareCanvas(),this.checkPermission());case 6:case"end":return t.stop()}},t,this)}),function(){var n=this,e=arguments;return new Promise(function(i,a){var r=t.apply(n,e);function o(n){c(r,i,a,o,s,"next",n)}function s(n){c(r,i,a,o,s,"throw",n)}o(void 0)})});return function(){return e.apply(this,arguments)}}(),getTempImgPath:function(){var t=this;return new Promise(function(e,i){n.canvasToTempFilePath({x:0,y:0,canvasId:"canvas",success:function(n){e(n.tempFilePath)},fail:function(n){console.error(n)}},t)})},genderMiniCode:function(){var n=this;return(0,s.getUnlimited)({page:this.config.jumpPath,scene:this.config.scene,width:600,is_hyaline:!0}).then(function(t){n.qRCodeUrl=t}).catch(function(t){n.hideCanvas(r.renum.INITIATIVE)})}}};t.default=h}).call(this,e(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).default)},575:
/*!*****************************************************************************************************************************************************************************!*\
  !*** D:/laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas.vue?vue&type=style&index=0&id=e7a7a554&lang=scss&scoped=true& ***!
  \*****************************************************************************************************************************************************************************/
/*! no static exports found */function(n,t,e){"use strict";e.r(t);var i=e(/*! -!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-1!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/css-loader??ref--8-oneOf-1-2!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ShareCanvas.vue?vue&type=style&index=0&id=e7a7a554&lang=scss&scoped=true& */576),a=e.n(i);for(var r in i)"default"!==r&&function(n){e.d(t,n,function(){return i[n]})}(r);t.default=a.a},576:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-1!./node_modules/css-loader??ref--8-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas.vue?vue&type=style&index=0&id=e7a7a554&lang=scss&scoped=true& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(n,t,e){}}]);
//# sourceMappingURL=../../../../../../.sourcemap/mp-weixin/pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas-create-component',
    {
        'pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(568))
        })
    },
    [['pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas-create-component']]
]);
