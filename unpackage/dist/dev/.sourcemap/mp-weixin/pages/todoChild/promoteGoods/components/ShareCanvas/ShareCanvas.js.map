{"version":3,"sources":["webpack:///D:/laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas.vue?78a8","webpack:///D:/laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas.vue?d870","webpack:///D:/laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas.vue?c134","webpack:///D:/laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas.vue?8e0a","webpack:///D:/laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas.vue","webpack:///D:/laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas.vue?3364","webpack:///D:/laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas.vue?73df"],"names":["data","canvas","canvasComponent","hideShareCanvas","shareCanvas","hideBtnSet","hideBox","downloadImg","DOWNLOAD_IMG","qRCodeUrl","props","width","type","Number","required","height","config","Object","defautl","mounted","wx","createCanvasContext","methods","checkPermission","then","result","code","renum","UNAUTHORIZED","showJump","NOPERMISSION","HASPERMISSION","showShareCanvas","console","warn","junpAuthorization","IWX","invoke","showBox","hideCanvas","event","INITIATIVE","currentTarget","dataset","mark","switchAuthorization","saveForAlubm","getTempImgPath","value","saveImgLocal","catch","drawShareCanvas","draw","res","uni","hideLoading","share","miniCodeUrl","genderMiniCode","showLoading","title","ShareCanvas","ctx","imgUrl","price","qRCodeWidth","isDraw","Promise","resolve","reject","canvasToTempFilePath","x","y","canvasId","success","tempFilePath","fail","err","error","page","jumpPath","scene","is_hyaline"],"mappings":"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","file":"pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./ShareCanvas.vue?vue&type=template&id=e7a7a554&scoped=true&\"\nvar renderjs\nimport script from \"./ShareCanvas.vue?vue&type=script&lang=js&\"\nexport * from \"./ShareCanvas.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShareCanvas.vue?vue&type=style&index=0&id=e7a7a554&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e7a7a554\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/components/ShareCanvas/ShareCanvas.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ShareCanvas.vue?vue&type=template&id=e7a7a554&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ShareCanvas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ShareCanvas.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\n'use scrict';\r\nimport ShareCanvas, { IWX, result, renum } from './ShareCanvasUtil.js';\r\nimport { DOWNLOAD_IMG } from '@/config/image.js';\r\nimport { getUnlimited } from '@/api/wx.js';\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t// 画布对象\r\n\t\t\tcanvas: null,\r\n\r\n\t\t\t// 画布组件\r\n\t\t\tcanvasComponent: null,\r\n\r\n\t\t\t// 显示推广图\r\n\t\t\thideShareCanvas: true,\r\n\r\n\t\t\t// 分享画布对象\r\n\t\t\tshareCanvas: null,\r\n\r\n\t\t\t// 隐藏推广图按钮列表\r\n\t\t\thideBtnSet: false,\r\n\r\n\t\t\t// 隐藏弹幕\r\n\t\t\thideBox: true,\r\n\r\n\t\t\t// 下载图片icon\r\n\t\t\tdownloadImg: DOWNLOAD_IMG,\r\n\r\n\t\t\t// 小程序码\r\n\t\t\tqRCodeUrl: ''\r\n\t\t};\r\n\t},\r\n\r\n\tprops: {\r\n\t\twidth: {\r\n\t\t\ttype: Number,\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\theight: {\r\n\t\t\ttype: Number,\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tconfig: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefautl() {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tmounted() {\r\n\t\tthis.canvasComponent = wx.createCanvasContext('canvas', this);\r\n\t},\r\n\r\n\t/**\r\n\t * 组件的方法列表\r\n\t */\r\n\tmethods: {\r\n\t\t/**\r\n\t\t * 检查是否有保存图片到本地权限\r\n\t\t * 有则显示保存到相册按钮\r\n\t\t * 否则显示跳转授权按钮\r\n\t\t */\r\n\t\tcheckPermission() {\r\n\t\t\tthis.canvas &&\r\n\t\t\t\tthis.canvas.checkPermission().then(result => {\r\n\t\t\t\t\tif (result.code == renum.UNAUTHORIZED) {\r\n\t\t\t\t\t\tthis.showJump();\r\n\t\t\t\t\t} else if (result.code == renum.NOPERMISSION || result.code == renum.HASPERMISSION) {\r\n\t\t\t\t\t\tthis.showShareCanvas();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.warn('检测权限返回结果错误');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 跳转授权\r\n\t\t */\r\n\t\tjunpAuthorization() {\r\n\t\t\tIWX.invoke('openSetting');\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 显示弹幕\r\n\t\t */\r\n\t\tshowBox() {\r\n\t\t\tthis.hideBox = false;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 显示推广图\r\n\t\t * 显示保存图片按钮\r\n\t\t */\r\n\t\tshowShareCanvas() {\r\n\t\t\t(this.hideBox = false), (this.hideShareCanvas = false), (this.hideBtnSet = false);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 显示推广图\r\n\t\t * 隐藏保存图片按钮\r\n\t\t * 显示跳转设置权限页面\r\n\t\t */\r\n\t\tshowJump() {\r\n\t\t\t(this.hideBox = false), (this.hideShareCanvas = false), (this.hideBtnSet = true);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 隐藏推广图\r\n\t\t */\r\n\t\thideCanvas(event) {\r\n\t\t\tif (event == renum.INITIATIVE || event.currentTarget.dataset.mark == 'box') {\r\n\t\t\t\t(this.hideBox = true), (this.hideShareCanvas = true);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 隐藏推广图\r\n\t\t * 显示跳转授权页面按钮\r\n\t\t */\r\n\t\tswitchAuthorization() {\r\n\t\t\tthis.hideCanvas(renum.INITIATIVE);\r\n\t\t\tthis.hideBtnSet = true;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 保存推广图到相册\r\n\t\t */\r\n\t\tsaveForAlubm() {\r\n\t\t\tthis.getTempImgPath().then(value => {\r\n\t\t\t\tthis.canvas\r\n\t\t\t\t\t.saveImgLocal(value)\r\n\t\t\t\t\t.then(result => {\r\n\t\t\t\t\t\tthis.hideCanvas(renum.INITIATIVE);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(result => {\r\n\t\t\t\t\t\tthis.switchAuthorization();\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 绘制推广图\r\n\t\t */\r\n\t\tdrawShareCanvas() {\r\n\t\t\tthis.canvas\r\n\t\t\t\t.draw()\r\n\t\t\t\t.then(result => {\r\n\t\t\t\t\tthis.showShareCanvas();\r\n\t\t\t\t})\r\n\t\t\t\t.catch(result => {\r\n\t\t\t\t\tif (result.code == renum.UNAUTHORIZED) {\r\n\t\t\t\t\t\tthis.showJump();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 点击分享\r\n\t\t */\r\n\t\tshare: async function() {\r\n\t\t\t!this.miniCodeUrl && (this.miniCodeUrl = await this.genderMiniCode());\r\n\t\t\tif (this.canvas === null) {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '正在加载'\r\n\t\t\t\t});\r\n\t\t\t\tthis.canvas = new ShareCanvas({ // 创建推广图对象\r\n\t\t\t\t\tctx: this.canvasComponent,\r\n\t\t\t\t\timgUrl: this.config.imgUrl,\r\n\t\t\t\t\tqRCodeUrl: this.qRCodeUrl,\r\n\t\t\t\t\ttitle: this.config.title,\r\n\t\t\t\t\tprice: this.config.price,\r\n\t\t\t\t\twidth: this.width,\r\n\t\t\t\t\theight: this.height,\r\n\t\t\t\t\tqRCodeWidth: 280\r\n\t\t\t\t});\r\n\t\t\t\tthis.checkPermission();\r\n\t\t\t\tthis.showBox(); // 先把弹幕弹出来，不给用户划走的绘制的推广图\r\n\t\t\t\tthis.drawShareCanvas();\r\n\t\t\t} else {\r\n\t\t\t\tthis.showBox(); // 先把弹幕弹出来，不给用户划走的绘制的推广图\r\n\t\t\t\tif (!this.canvas.isDraw)\r\n\t\t\t\t\t// 如果该画布还没有绘制，就先绘制\r\n\t\t\t\t\tthis.drawShareCanvas();\r\n\t\t\t\tthis.checkPermission();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 获取推广图临时路径\r\n\t\t */\r\n\t\tgetTempImgPath() {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tuni.canvasToTempFilePath(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\ty: 0,\r\n\t\t\t\t\t\tcanvasId: 'canvas',\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tresolve(res.tempFilePath);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tthis\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 获取小程序码\r\n\t\t */\r\n\t\tgenderMiniCode: function() {\r\n\t\t\treturn getUnlimited({\r\n\t\t\t\tpage: this.config.jumpPath,\r\n\t\t\t\tscene: this.config.scene,\r\n\t\t\t\twidth: 600,\r\n\t\t\t\tis_hyaline: true\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.qRCodeUrl = res;\r\n\t\t\t}).catch(res => {\r\n\t\t\t\tthis.hideCanvas(renum.INITIATIVE);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n","import mod from \"-!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ShareCanvas.vue?vue&type=style&index=0&id=e7a7a554&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ShareCanvas.vue?vue&type=style&index=0&id=e7a7a554&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1591090470441\n      var cssReload = require(\"D:/HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}