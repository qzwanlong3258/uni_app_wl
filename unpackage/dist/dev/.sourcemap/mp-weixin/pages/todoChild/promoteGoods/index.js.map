{"version":3,"sources":["webpack:///D:/laragon/www/wl_project/feike_uni_app/main.js","webpack:///D:/laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/index.vue?a254","webpack:///D:/laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/index.vue?9285","webpack:///D:/laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/index.vue?096f","webpack:///D:/laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/index.vue?ec88","webpack:///D:/laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/index.vue","webpack:///D:/laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/index.vue?6a3a","webpack:///D:/laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/index.vue?7164"],"names":["createPage","Page","_self","data","selectedIndex","list","listQuery","page","size","type","shareConfig","deliveryFlag","canvasFlag","posterData","poster","qrShow","canvasId","code","onLoad","getList","onShow","methods","createCanvasImageEvn","$forceUpdate","setTimeout","$refs","hchPoster","createCanvasImage","shareEvn","closeShareEvn","canvasCancel","val","saveToAlbum","userInfo","user","id","console","log","goodsChange","index","setShareConfig","searchChange","value","navigateBack","uni","delta","a","count","map","res","uuid","e","showimg","url","push","name","price","originalPrice","icon","title","discountPrice","orignPrice","i","length","item","shareFc","Date","_this","formData","posterCanvasId","delayTimeScale","backgroundImage","drawArray","bgObj","bgScale","dx","width","fontSize","lineHeight","height","Promise","rs","rj","setDraw","Context","setFillStyle","setGlobalAlpha","fillRect","alpha","dy","infoCallBack","imageInfo","scale","circleSet","x","y","r","dWidth","dHeight","fontStyle","text","color","textAlign","textBaseline","textLength","_app","serialNum","fontWeight","allInfoCallback","obj","find","setCanvasWH","d","tempFilePath","finalPath","hideLoading","showToast","JSON","stringify","saveImage","saveImageToPhotosAlbum","filePath","success","share","hideQr","components","Search","LjlGoodsInfo","ShareCanvas","tkiQrcode"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,8G;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AAC+M;AAC/M,gBAAgB,gNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA8zB,CAAgB,8xBAAG,EAAC,C;;;;;;;;;;;;4CCAl1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,a;;;;AAIA;;;AAGA;AACA;;AAEA;AACC,mG;;;;AAID,IAAIC,KAAJ,C;AACe;AACdC,MADc,kBACP;AACN,WAAO;AACNC,mBAAa,EAAE,CADT;AAENC,UAAI,EAAE;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdK,OAFA;AAkBNC,eAAS,EAAE;AACVC,YAAI,EAAE,CADI;AAEVC,YAAI,EAAE,CAFI;AAGVC,YAAI,EAAE,CAHI,EAlBL;;AAuBNC,iBAAW,EAAE,EAvBP;AAwBN;AACAC,kBAAY,EAAE,KAzBR;AA0BNC,gBAAU,EAAE,IA1BN;AA2BNC,gBA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","file":"pages/todoChild/promoteGoods/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/todoChild/promoteGoods/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=ba1bc0dc&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"laragon/www/wl_project/feike_uni_app/pages/todoChild/promoteGoods/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=ba1bc0dc&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\n'use scrict';\r\nimport Search from '@/components/Search.vue';\r\nimport LjlGoodsInfo from './components/LjlGoodsInfo.vue';\r\nimport ShareCanvas from './components/ShareCanvas/ShareCanvas.vue';\r\nimport { getGoodsList,getGoodsDetail } from '@/api/goods.js';\r\nimport hchPoster from '../../../wxcomponents/hch-poster/hch-poster.vue';\r\nimport tkiQrcode from '@/components/tki-qrcode/tki-qrcode.vue';\r\nimport { getStorage } from '@/utils/storage.js';\r\nimport { getUnlimited } from '@/api/wx.js';\r\n\r\nimport _app from '@/components/QS-SharePoster/app.js';\r\n\timport {\r\n\t\tgetSharePoster\r\n\t} from '@/components/QS-SharePoster/QS-SharePoster.js';\r\n\r\nvar _self;\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tselectedIndex: 0,\r\n\t\t\tlist: [\r\n\t\t\t\t// {\r\n\t\t\t\t// \ttitle: '月星真皮沙发',\r\n\t\t\t\t// \tdesc: '法国品牌|7天包退|官方直售',\r\n\t\t\t\t// \trule: { title: '3期免息', content: '999元/期' },\r\n\t\t\t\t// \tchecked: true,\r\n\t\t\t\t// \turl: 'https://dss0.bdstatic.com/6Ox1bjeh1BF3odCf/it/u=2982686518,338089367&fm=74&app=80&f=JPEG&size=f121,140?sec=1880279984&t=c5b1a0d04e6c4936497a09bc4f6a5fb4'\r\n\t\t\t\t// },\r\n\t\t\t\t// {\r\n\t\t\t\t// \ttitle: '马可波罗地瓷砖地板砖墙砖红色万千热情款',\r\n\t\t\t\t// \tdesc: '法国品牌|7天包退|官方直售',\r\n\t\t\t\t// \trule: { title: '3期免息', content: '999元/期' },\r\n\t\t\t\t// \tchecked: false,\r\n\t\t\t\t// \turl: 'https://dss0.bdstatic.com/6Ox1bjeh1BF3odCf/it/u=2982686518,338089367&fm=74&app=80&f=JPEG&size=f121,140?sec=1880279984&t=c5b1a0d04e6c4936497a09bc4f6a5fb4'\r\n\t\t\t\t// }\r\n\t\t\t],\r\n\t\t\tlistQuery: {\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tsize: 5,\r\n\t\t\t\ttype: 2\r\n\t\t\t},\r\n\t\t\tshareConfig: {},\r\n\t\t\t// 海报\r\n\t\t\tdeliveryFlag: false,\r\n\t\t\tcanvasFlag: true,\r\n\t\t\tposterData:{},\r\n\t\t\t// val: 'https://www.baidu.com',\r\n\t\t\t\r\n\t\t\t//h5海报\r\n\t\t\tposter: {},\r\n\t\t\tqrShow: false,\r\n\t\t\tcanvasId: 'default_PosterCanvasId',\r\n\t\t\tcode:''\r\n\t\t\t\r\n\t\t\t\r\n\t\t};\r\n\t},\r\n\tonLoad: async function() {\r\n\t\t_self=this\r\n\t\tawait this.getList();\r\n\t\t\r\n\t},\r\n\tonShow() {\r\n\t\t// this.$refs.ShareCanvas.checkPermission();\r\n\t},\r\n\tmethods: {\r\n\t\t\r\n\t\t// 海报\r\n\t\tcreateCanvasImageEvn(){\r\n\t\t\t// 这个是固定写死的小程序码\r\n\t\t\t// Object.assign(this.posterData,\r\n\t\t\t// {\r\n\t\t\t// \turl:'https://img0.zuipin.cn/mp_zuipin/poster/hch-pro.jpg',//商品主图\r\n\t\t\t// \ticon:'https://img0.zuipin.cn/mp_zuipin/poster/hch-hyj.png',//醉品价图标\r\n\t\t\t// \ttitle:\"诗酒茶系列 武夷大红袍 2018年 花香型中火 一级 体验装 16g\",//标题\r\n\t\t\t// \tdiscountPrice:\"250.00\",//折后价格\r\n\t\t\t// \torignPrice:\"300.00\",//原价\r\n\t\t\t// \tcode:'https://img0.zuipin.cn/mp_zuipin/poster/hch-code.png',//小程序码\r\n\t\t\t// })\r\n\t\t\tthis.$forceUpdate();//强制渲染数据\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\tthis.canvasFlag=false;//显示canvas海报\r\n\t\t\t\tthis.deliveryFlag = false;//关闭分享弹窗\r\n\t\t\t\tthis.$refs.hchPoster.createCanvasImage();//调用子组件的方法\r\n\t\t\t},500)\r\n\t\t\t// 这个是固定写死的小程序码 end\r\n\t\t\t// 以下是根据后端接口动态生成小程序码\r\n\t\t\t// let code=\"https://img0.zuipin.cn/mp_zuipin/poster/hch-code.png\";\r\n\t\t\t// this.codeImg().then((res)=>{\r\n\t\t\t// \tcode = res;\r\n\t\t\t// \tObject.assign(this.posterData,\r\n\t\t\t// \t{\r\n\t\t\t// \t\turl:'https://img0.zuipin.cn/mp_zuipin/poster/hch-pro.jpg',//商品主图\r\n\t\t\t// \t\ticon:'https://img0.zuipin.cn/mp_zuipin/poster/hch-hyj.png',//醉品价图标\r\n\t\t\t// \t\ttitle:\"诗酒茶系列 武夷大红袍 2018年 花香型中火 一级 体验装 16g\",//标题\r\n\t\t\t// \t\tdiscountPrice:\"250.00\",//折后价格\r\n\t\t\t// \t\torignPrice:\"300.00\",//原价\r\n\t\t\t// \t\tcode:code,//小程序码\r\n\t\t\t// \t})\r\n\t\t\t// \tthis.$forceUpdate();//强制渲染数据\r\n\t\t\t// \tsetTimeout(()=>{\r\n\t\t\t// \t\tthis.canvasFlag=false;//显示canvas海报\r\n\t\t\t// \t\tthis.deliveryFlag = false;//关闭分享弹窗\r\n\t\t\t// \t\tthis.$refs.hchPoster.createCanvasImage();//调用子组件的方法\r\n\t\t\t// \t},500)\r\n\t\t\t// })\r\n\t\t\t// 以下是根据后端接口动态生成小程序码 end\r\n\t\t},\r\n\t\t// 分享弹窗\r\n\t\tshareEvn() {\r\n\t\t\tthis.deliveryFlag = true;\r\n\t\t},\r\n\t\t// 关闭分享弹窗\r\n\t\tcloseShareEvn() {\r\n\t\t\tthis.deliveryFlag = false;\r\n\t\t},\r\n\t\t// 取消海报\r\n\t\tcanvasCancel(val){\r\n\t\t\tthis.canvasFlag=val;\r\n\t\t},\r\n\t\t// saveToAlbum() {\r\n\t\t// \t// this.$refs.qrcode._makeCode();\r\n\t\t// \t_self.userInfo = getStorage('userInfo');\r\n\t\t// \tlet user=_self.userInfo.id\r\n\t\t// \tconsole.log(user)\r\n\t\t// \tgetUnlimited( {\r\n\t\t\t      \r\n\t\t// \t      \"scene\":user,\r\n\t\t// \t      \"width\":600\r\n\t\t// \t    },).then(respone=>{\r\n\t\t// \t\tconsole.log(respone)\r\n\t\t// \t\t_self.posterData.code=respone\r\n\t\t// \t\tthis.shareEvn()\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t// \t})\r\n\t\t\t\r\n\t\t// },\r\n\t\tasync saveToAlbum() {\r\n\t\t\t// this.$refs.qrcode._makeCode();\r\n\t\t\t_self.userInfo = getStorage('userInfo');\r\n\t\t\tlet user=_self.userInfo.id\r\n\t\t\tconsole.log(user)\r\n\t\t\t_self.code = await getUnlimited( {\r\n\t\t\t      \r\n\t\t\t      \"scene\":user,\r\n\t\t\t      \"width\":600\r\n\t\t\t    },)\r\n\t\t\t\r\n\t\t},\r\n\t\t// qrR(path) {\r\n\t\t// \tthis.posterData.code=path\r\n\t\t// \tthis.shareEvn()\r\n\t\t\t\r\n\t\t// },\r\n\t\t\r\n\t\tgoodsChange: function(index) {\r\n\t\t\tthis.selectedIndex = index;\r\n\t\t\tthis.setShareConfig();\r\n\t\t},\r\n\t\tsearchChange: function(value) {\r\n\t\t\tconsole.log('搜索');\r\n\t\t},\r\n\t\tnavigateBack: function() {\r\n\t\t\tuni.navigateBack({delta: 1});\r\n\t\t},\r\n\t\tgetList: async function() {\r\n\t\t\t// this.list = (await getGoodsList(this.listQuery)).list;\r\n\t\t\tawait this.saveToAlbum()\r\n\t\t\tlet a =(await getGoodsList(this.listQuery)).list\r\n\t\t\tvar count=0\r\n\t\t\ta.map(async res=>{\r\n\t\t\t\tlet e= (await getGoodsDetail({id:res.uuid})).showimg[0].url\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.list.push({\r\n\t\t\t\t\tid:res.uuid,\r\n\t\t\t\t\turl:e,\r\n\t\t\t\t\tname:res.name,\r\n\t\t\t\t\tprice:res.price,\r\n\t\t\t\t\toriginalPrice:res.originalPrice\r\n\t\t\t\t}) \r\n\t\t\t    if(count==0){\r\n\t\t\t\t\t// this.shareConfig = {\r\n\t\t\t\t\t// \timgUrl: e,\r\n\t\t\t\t\t// \tqRCodeUrl: 'https://feiaizn.com:1001/linkcode?id=1',\r\n\t\t\t\t\t// \tscene: \"scene\",\r\n\t\t\t\t\t// \ttitle: res.name,\r\n\t\t\t\t\t// \tprice: Number(res.price)\r\n\t\t\t\t\t// }\r\n\t\t\t\tthis.posterData={\r\n\t\t\t\t\t\turl:e,//商品主图\r\n\t\t\t\t\t\ticon:'https://www.feiaizn.com/images/20200515115542_zhehoujia.png',//醉品价图标\r\n\t\t\t\t\t\ttitle:res.name,//标题\r\n\t\t\t\t\t\tdiscountPrice:res.price,//折后价格\r\n\t\t\t\t\t\torignPrice:res.originalPrice,//原价\r\n\t\t\t\t\t\tcode:this.code,//小程序码\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcount++\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tconsole.log(this.list)\r\n\t\t\tfor(let i=0;i++;i<this.list.length){\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tthis.$forceUpdate()\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 创建推广图对象\r\n\t\t */\r\n\t\tsetShareConfig: async function() {\r\n\t\t\tlet item = this.list[this.selectedIndex];\r\n\t\t\t// this.shareConfig = {\r\n\t\t\t// \timgUrl: item.url,\r\n\t\t\t// \tqRCodeUrl: 'https://feiaizn.com:1001/linkcode?id=1',\r\n\t\t\t// \tscene: \"scene\",\r\n\t\t\t// \ttitle: item.name,\r\n\t\t\t// \tprice: Number(item.price)\r\n\t\t\t// }\r\n\t\t\t\r\n\t\t\tthis.posterData={\r\n\t\t\t\t\turl:item.url,//商品主图\r\n\t\t\t\t\ticon:'https://www.feiaizn.com/images/20200515115542_zhehoujia.png',//醉品价图标\r\n\t\t\t\t\ttitle:item.name,//标题\r\n\t\t\t\t\tdiscountPrice:item.price,//折后价格\r\n\t\t\t\t\torignPrice:item.originalPrice,//原价\r\n\t\t\t\t\tcode:this.code,//小程序码\r\n\t\t\t\t}\r\n\t\t\tthis.$forceUpdate()\r\n\t\t\t// console.log(this.shareConfig)\r\n\t\t},\r\n\t\t\r\n\t\t/**\r\n\t\t * 点击分享\r\n\t\t */\r\n\t\t// share: function() {\r\n\t\t// \tthis.$refs.ShareCanvas.share();\r\n\t\t// },\r\n\t\t\r\n\t\t// h5海报\r\n\t\tasync shareFc() {\r\n\t\t\tconsole.log(this.posterData)\r\n\t\t\ttry {\r\n\t\t\t\tconsole.log('准备生成:' + new Date())\r\n\t\t\t\tconst d = await getSharePoster({\r\n\t\t\t\t\t_this: this, //若在组件中使用 必传\r\n\t\t\t\t\ttype: 'testShareType',\r\n\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t//访问接口获取背景图携带自定义数据\r\n\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tposterCanvasId: this.canvasId,\t//canvasId\r\n\t\t\t\t\tdelayTimeScale: 20, //延时系数\r\n\t\t\t\t\tbackgroundImage:this.posterData.url,\r\n\t\t\t\t\t\r\n\t\t\t\t\t/* background: {\r\n\t\t\t\t\t\twidth: 1080,\r\n\t\t\t\t\t\theight: 1920,\r\n\t\t\t\t\t\tbackgroundColor: '#666'\r\n\t\t\t\t\t}, */\r\n\t\t\t\t\tdrawArray: ({\r\n\t\t\t\t\t\tbgObj,\r\n\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\tbgScale\r\n\t\t\t\t\t}) => {\r\n\t\t\t\t\t\tconst dx = bgObj.width * 0.3;\r\n\t\t\t\t\t\tconst fontSize = bgObj.width * 0.045;\r\n\t\t\t\t\t\tconst lineHeight = bgObj.height * 0.04;\r\n\t\t\t\t\t\t//可直接return数组，也可以return一个promise对象, 但最终resolve一个数组, 这样就可以方便实现后台可控绘制海报\r\n\t\t\t\t\t\treturn new Promise((rs, rj) => {\r\n\t\t\t\t\t\t\trs([{\r\n\t\t\t\t\t\t\t\t\ttype: 'custom',\r\n\t\t\t\t\t\t\t\t\tsetDraw(Context) {\r\n\t\t\t\t\t\t\t\t\t\tContext.setFillStyle('black');\r\n\t\t\t\t\t\t\t\t\t\tContext.setGlobalAlpha(0.3);\r\n\t\t\t\t\t\t\t\t\t\tContext.fillRect(0, bgObj.height - bgObj.height * 0.2, bgObj.width, bgObj.height * 0.2);\r\n\t\t\t\t\t\t\t\t\t\tContext.setGlobalAlpha(1);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttype: 'image',\r\n\t\t\t\t\t\t\t\t\turl: this.posterData.code,\r\n\t\t\t\t\t\t\t\t\talpha: 1,\r\n\t\t\t\t\t\t\t\t\tdx,\r\n\t\t\t\t\t\t\t\t\tdy: bgObj.height - bgObj.width * 0.45,\r\n\t\t\t\t\t\t\t\t\tinfoCallBack(imageInfo) {\r\n\t\t\t\t\t\t\t\t\t\tlet scale = bgObj.width * 0.2 / imageInfo.height;\r\n\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\tcircleSet: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tx: imageInfo.width * scale*2 / 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\ty: bgObj.width * 0.2*2 / 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\tr: bgObj.width * 0.2*2 / 2\r\n\t\t\t\t\t\t\t\t\t\t\t}, // 圆形图片 , 若circleSet与roundRectSet一同设置 优先circleSet设置\r\n\t\t\t\t\t\t\t\t\t\t\tdWidth: imageInfo.width * scale*2, // 因为设置了圆形图片 所以要乘以2\r\n\t\t\t\t\t\t\t\t\t\t\tdHeight: bgObj.width * 0.2*2,\r\n\t\t\t\t\t\t\t\t\t\t\t/* roundRectSet: { // 圆角矩形\r\n\t\t\t\t\t\t\t\t\t\t\t\tr: imageInfo.width * .1\r\n\t\t\t\t\t\t\t\t\t\t\t} */\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\t\t\t\t\tfontStyle: 'italic',\r\n\t\t\t\t\t\t\t\t\ttext: this.posterData.code,\r\n\t\t\t\t\t\t\t\t\tsize: fontSize,\r\n\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\talpha: .5,\r\n\t\t\t\t\t\t\t\t\ttextAlign: 'left',\r\n\t\t\t\t\t\t\t\t\ttextBaseline: 'middle',\r\n\t\t\t\t\t\t\t\t\tinfoCallBack(textLength) {\r\n\t\t\t\t\t\t\t\t\t\t_app.log('index页面的text的infocallback ，textlength:' + textLength);\r\n\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\tdx: bgObj.width - textLength - fontSize,\r\n\t\t\t\t\t\t\t\t\t\t\tdy: bgObj.height - lineHeight * 3\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tserialNum: 0,\r\n\t\t\t\t\t\t\t\t\tid: 'tag1'\t//自定义标识\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\t\t\t\t\ttext: this.posterData.orignPrice,\r\n\t\t\t\t\t\t\t\t\tfontWeight: 'bold',\r\n\t\t\t\t\t\t\t\t\tsize: fontSize,\r\n\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\talpha: .75,\r\n\t\t\t\t\t\t\t\t\ttextAlign: 'left',\r\n\t\t\t\t\t\t\t\t\ttextBaseline: 'middle',\r\n\t\t\t\t\t\t\t\t\tserialNum: 1,\r\n\t\t\t\t\t\t\t\t\tallInfoCallback({\t//v3.0.1 更新 可以获取drawArray中全部数据\r\n\t\t\t\t\t\t\t\t\t\tdrawArray\r\n\t\t\t\t\t\t\t\t\t} = {}) {\r\n\t\t\t\t\t\t\t\t\t\tconst obj = drawArray.find(item => item.id === 'tag1');\r\n\t\t\t\t\t\t\t\t\t\t/* return {\r\n\t\t\t\t\t\t\t\t\t\t\tdx: obj.dx,\r\n\t\t\t\t\t\t\t\t\t\t\tdy: obj.dy + lineHeight\r\n\t\t\t\t\t\t\t\t\t\t} */\r\n\t\t\t\t\t\t\t\t\t\t//也可以return promise对象\r\n\t\t\t\t\t\t\t\t\t\treturn new Promise((rs, rj) => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\trs({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdx: obj.dx,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdy: obj.dy + lineHeight\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}, 1);\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\t\t\t\t\ttext: '原价' + this.posterData.orignPrice,\r\n\t\t\t\t\t\t\t\t\tsize: fontSize,\r\n\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\talpha: 1,\r\n\t\t\t\t\t\t\t\t\ttextAlign: 'left',\r\n\t\t\t\t\t\t\t\t\ttextBaseline: 'middle',\r\n\t\t\t\t\t\t\t\t\tinfoCallBack(textLength) {\r\n\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\tdx: bgObj.width - textLength - fontSize,\r\n\t\t\t\t\t\t\t\t\t\t\tdy: bgObj.height - lineHeight - 100\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\t\t\t\t\ttext: '现价' + this.posterData.discountPrice,\r\n\t\t\t\t\t\t\t\t\tsize: fontSize,\r\n\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\talpha: 1,\r\n\t\t\t\t\t\t\t\t\ttextAlign: 'left',\r\n\t\t\t\t\t\t\t\t\ttextBaseline: 'middle',\r\n\t\t\t\t\t\t\t\t\tinfoCallBack(textLength) {\r\n\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\tdx: bgObj.width - textLength - fontSize - 60,\r\n\t\t\t\t\t\t\t\t\t\t\tdy: bgObj.height - lineHeight - 60\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttype: 'qrcode',\r\n\t\t\t\t\t\t\t\t\ttext: '原价:你好，我是取舍',\r\n\t\t\t\t\t\t\t\t\t// size: bgObj.width * 0.2,\r\n\t\t\t\t\t\t\t\t\tsize: 80,\r\n\t\t\t\t\t\t\t\t\tdx: bgObj.width * 0.05,\r\n\t\t\t\t\t\t\t\t\t// dy: bgObj.height - bgObj.width * 0.25\r\n\t\t\t\t\t\t\t\t\tdy: 380\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsetCanvasWH: ({\r\n\t\t\t\t\t\tbgObj,\r\n\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\tbgScale\r\n\t\t\t\t\t}) => { // 为动态设置画布宽高的方法，\r\n\t\t\t\t\t\tthis.poster = bgObj;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log('海报生成成功, 时间:' + new Date() + '， 临时路径: ' + d.poster.tempFilePath)\r\n\t\t\t\tthis.poster.finalPath = d.poster.tempFilePath;\r\n\t\t\t\tthis.qrShow = true;\r\n\t\t\t} catch (e) {\r\n\t\t\t\t_app.hideLoading();\r\n\t\t\t\t_app.showToast(JSON.stringify(e));\r\n\t\t\t\tconsole.log(JSON.stringify(e));\r\n\t\t\t}\r\n\t\t},\r\n\t\tsaveImage() {\r\n\r\n\t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\tfilePath: this.poster.finalPath,\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t_app.showToast('保存成功');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\r\n\r\n\r\n\t\t},\r\n\t\tshare() {\r\n\r\n\r\n\r\n\t\t\r\n\r\n\t\t\t_app.showToast('分享了');\r\n\r\n\t\t},\r\n\t\thideQr() {\r\n\t\t\tthis.qrShow = false;\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tSearch,\r\n\t\tLjlGoodsInfo,\r\n\t\tShareCanvas,\r\n\t\thchPoster,\r\n\t\ttkiQrcode\r\n\t}\r\n};\r\n","import mod from \"-!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1591092531467\n      var cssReload = require(\"D:/HbuilderX/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}