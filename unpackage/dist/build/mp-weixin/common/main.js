(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"09aa":function(e,n,t){"use strict";var r=t("acc5"),o=t.n(r);o.a},"09f9":function(e,n,t){"use strict";t.r(n);var r=t("9267");for(var o in r)"default"!==o&&function(e){t.d(n,e,function(){return r[e]})}(o);t("09aa");var a,u,c=t("2877"),i=Object(c["a"])(r["default"],a,u,!1,null,null,null);n["default"]=i.exports},6626:function(e,n,t){"use strict";(function(e){t("66d2"),t("921b");var n=a(t("66fd")),r=a(t("09f9")),o=a(t("eee1"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){c(e,n,t[n])})}return e}function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}n.default.config.productionTip=!1,n.default.prototype.$store=o.default,r.default.mpType="app",n.default.prototype.$eventBus=new n.default;var i=new n.default(u({store:o.default},r.default));e(i).$mount()}).call(this,t("543d")["createApp"])},9267:function(e,n,t){"use strict";t.r(n);var r=t("e1ed"),o=t.n(r);for(var a in r)"default"!==a&&function(e){t.d(n,e,function(){return r[e]})}(a);n["default"]=o.a},acc5:function(e,n,t){},e1ed:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(t("a34a"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,n,t,r,o,a,u){try{var c=e[a](u),i=c.value}catch(s){return void t(s)}c.done?n(i):Promise.resolve(i).then(r,o)}function u(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var u=e.apply(n,t);function c(e){a(u,r,o,c,i,"next",e)}function i(e){a(u,r,o,c,i,"throw",e)}c(void 0)})}}t("a122");var c=t("4148"),i=c.setStorage,s=c.getStorage,f=t("0ae1"),l=f.AUTH,d=t("133c"),h=d.request,g=t("e2a7"),p=g.LOGIN_TOKEN_REFRESH,v=g.LOGIN_OPENID_REFRESH,b={globalData:{fm:"",hasRefresh:!0,goodsInfor:{},accessToken:"",addressList:null},methods:{canIuse:function(){return s("isLogin")&&this.$options.globalData.hasRefresh},getFrom:function(e,n){for(var t in n)e+=-1===e.indexOf("?")?"?":"&",e+="".concat(t,"=").concat(n[t]);this.$options.globalData.fm="/".concat(e)},switchRouter:function(n){var t=this,r=getCurrentPages();0!==r.length&&0!==n.indexOf("/"+r[r.length-1].route)&&e.reLaunch({url:n,success:function(){t.$options.globalData.hasRefresh=!0;var e=getCurrentPages();if(e.length){var n=e[e.length-1];n.onLoad()}},fail:function(){e.switchTab({url:n,success:function(){t.$options.globalData.hasRefresh=!0;var e=getCurrentPages();if(e.length){var n=e[e.length-1];n.onLoad()}}})}})},handleLogin:function(){var n=u(r.default.mark(function n(){var t,o,a,u,c,f,d,g,b;return r.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:if(t=s("isLogin"),!t){n.next=22;break}return o="",a=s("refreshToken"),n.next=6,h({method:"POST",url:"".concat(p,"?refreshToken=").concat(a),needToken:!1,showLoading:!1,hideLoading:!1,showErrorModal:!1,errorText:"refreshToken刷新失败"}).catch(function(e){return console.log(e)});case 6:if(u=n.sent,!u){n.next=11;break}o=u.token,n.next=18;break;case 11:return c=s("userInfo"),f=c.openId,n.next=14,h({method:"POST",url:"".concat(v,"?openId=").concat(f),needToken:!1,showLoading:!1,hideLoading:!1,showErrorModal:!1,errorText:"openId刷新失败",returnHeader:!0}).catch(function(e){return console.log(e)});case 14:d=n.sent,g=d.data,o=g.token,i("refreshToken",g.refreshToken);case 18:i("tempToken",o),this.switchRouter(this.$options.globalData.fm),n.next=26;break;case 22:if(b=getCurrentPages(),!(b.length>0&&0===l.indexOf("/"+b[b.length-1].route))){n.next=25;break}return n.abrupt("return");case 25:e.reLaunch({url:l});case 26:case"end":return n.stop()}},n,this)}));function t(){return n.apply(this,arguments)}return t}()},onLaunch:function(e){this.$options.data;if(!s("sysInfo",!0)){var n=wx.getSystemInfoSync(),t=n.screenWidth,r=n.screenHeight;n.screenHeightRpx=750*r/t,n.perRpx=t/750,i("sysInfo",n)}var o=e.path,a=e.query;this.getFrom(o,a),this.handleLogin()},onShow:function(){},onHide:function(){}};n.default=b}).call(this,t("543d")["default"])}},[["6626","common/runtime","common/vendor"]]]);