(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/todoChild/address/addressDetail/addressDetail"],{1763:function(e,t,n){"use strict";n.r(t);var s=n("c1e1"),r=n.n(s);for(var a in s)"default"!==a&&function(e){n.d(t,e,function(){return s[e]})}(a);t["default"]=r.a},4474:function(e,t,n){"use strict";n.r(t);var s=n("aef4"),r=n("1763");for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);n("d7b6");var i=n("2877"),o=Object(i["a"])(r["default"],s["a"],s["b"],!1,null,null,null);t["default"]=o.exports},"88a4":function(e,t,n){},a7a6:function(e,t,n){"use strict";(function(e){n("66d2"),n("921b");s(n("66fd"));var t=s(n("4474"));function s(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},aef4:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement;e._self._c},r=[];n.d(t,"a",function(){return s}),n.d(t,"b",function(){return r})},c1e1:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(n("a34a")),r=(n("0ae1"),n("4d7d")),a=n("36ce");n("4cc3");function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,s,r,a,i){try{var o=e[a](i),c=o.value}catch(d){return void n(d)}o.done?t(c):Promise.resolve(c).then(s,r)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(s,r){var a=e.apply(t,n);function i(e){o(a,s,r,i,c,"next",e)}function c(e){o(a,s,r,i,c,"throw",e)}i(void 0)})}}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),s.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(){return n.e("components/GxgButton").then(n.bind(null,"7fc9"))},l={data:function(){return{addressInfo:{name:"",phone:"",region:"",detailAddress:"",address:"",default:0},placeholderArea:"详情地址：如道路、门牌号、小区、楼栋号、单元室等",customItem:"全部",isExit:!1,isDisabledDefault:!1}},onLoad:function(e){this.options=e,e.id&&(this.addressInfo=this.getAddress(),this.isExit=!0),this.addressInfo.default&&(this.isDisabledDefault=!0)},methods:{getAddress:function(){var e=this,t=getApp().globalData.addressList.find(function(t){return t.id==e.options.id}),n=t.addres.split(" ");return d({},t,{region:n[0],detailAddress:n[1]})},bindRegionChange:function(e){var t=e.detail.value;t[0]===t[1]&&(t=t.slice(1)),this.addressInfo.region=t.join("")},getLoacation:function(){var t=this;e.getSetting({success:function(n){n.authSetting["scope.userLocation"]?e.chooseLocation({success:function(e){t.addressInfo.address="".concat(e.address,"(").concat(e.name,")")},fail:function(){e.showToast({title:"获取位置失败",icon:"none"})}}):e.authorize({scope:"scope.userLocation",success:function(){e.chooseLocation({success:function(e){t.addressInfo.address="".concat(e.address,"(").concat(e.name,")")},fail:function(){e.showToast({title:"获取位置失败",icon:"none"})}})}})}})},switch1Change:function(e){this.addressInfo.default=e.detail.value},checkAddress:function(){var e=c(s.default.mark(function e(){var t;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.addressInfo.name?this.addressInfo.phone?this.addressInfo.region&&-1===this.addressInfo.region.indexOf("全部")?this.addressInfo.detailAddress||(t="详细地址不能为空"):t="所在区域不能为空":t="收货人手机号码不能为空":t="收货人不能为空",e.t0=t,!e.t0){e.next=5;break}return e.next=5,(0,a.model)({content:t,showCancel:!1});case 5:return e.abrupt("return",!t);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),submit:function(){var e=c(s.default.mark(function e(){var t,n;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.addressInfo.address="".concat(this.addressInfo.region," ").concat(this.addressInfo.detailAddress),!this.addressInfo.id){e.next=7;break}return e.next=4,(0,r.updateReceiveAddress)(this.addressInfo);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,(0,r.addReceiveAddress)(this.addressInfo);case 9:e.t0=e.sent;case 10:if(t=e.t0,n=1===Number(t.count),e.t1=!n,!e.t1){e.next=16;break}return e.next=16,(0,a.model)({content:"地址提交失败，请重试",showCancel:!1});case 16:return e.abrupt("return",!!n&&t);case 17:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),saveAddress:function(){var t=c(s.default.mark(function t(){return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.checkAddress();case 2:if(t.t0=t.sent,!t.t0){t.next=7;break}return t.next=6,this.submit();case 6:t.t0=t.sent;case 7:if(!t.t0){t.next=10;break}this.$eventBus.$emit("refreshAddressList"),e.navigateBack({delta:1});case 10:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),deleteAddress:function(){var t=c(s.default.mark(function t(){var n,i=this;return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,a.model)({content:"请问是否确认删除",showCancel:!0});case 2:n=t.sent,n.confirm&&(0,r.deleteReceiveAddress)({id:this.addressInfo.id}).then(function(t){i.$eventBus.$emit("refreshAddressList"),e.navigateBack({delta:1})});case 4:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}()},components:{GxgButton:f}};t.default=l}).call(this,n("543d")["default"])},d7b6:function(e,t,n){"use strict";var s=n("88a4"),r=n.n(s);r.a}},[["a7a6","common/runtime","common/vendor"]]]);