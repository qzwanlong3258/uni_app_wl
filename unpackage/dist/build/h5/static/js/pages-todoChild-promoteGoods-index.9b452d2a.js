(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-todoChild-promoteGoods-index"],{"1ee4":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{infor:{type:Object,default:function(){return{}}},checked:{type:Boolean,default:!1}}};e.default=i},"256d":function(t,e,n){"use strict";var i=n("decb"),o=n.n(i);o.a},"2ebd":function(t,e,n){"use strict";n.r(e);var i=n("96e6"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},3056:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("386d");var i=n("5e5c"),o=n("4cc3"),a={data:function(){return{search:{icon:i.SEARCH,value:""}}},computed:{handSearchValueThrottl:function(){return(0,o.waterTap)(this.handSearchValue,1e3)}},methods:{handSearchValue:function(){this.$emit("change",this.search.value)}}};e.default=a},"3cf0":function(t,e,n){"use strict";n.r(e);var i=n("45f5"),o=n("b6c2");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("9533");var r,s=n("f0c5"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"c50793d0",null,!1,i["a"],r);e["default"]=c.exports},"40b9":function(t,e,n){"use strict";var i,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"search-box"},[n("i",{staticClass:"icon iconfont iconiconfontzhizuobiaozhun22"}),n("v-uni-input",{attrs:{type:"text",placeholder:"搜索","placeholder-class":"placeholder-class"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.handSearchValueThrottl.apply(void 0,arguments)}},model:{value:t.search.value,callback:function(e){t.$set(t.search,"value",e)},expression:"search.value"}})],1)},a=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},"45f5":function(t,e,n){"use strict";var i,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"canvas_box",style:{visibility:t.hideBox?"hidden":"visible"},attrs:{"data-mark":"box",catchtouchmove:"nothing"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideCanvas.apply(void 0,arguments)}}},[n("v-uni-view",{attrs:{hidden:t.hideShareCanvas}},[n("v-uni-canvas",{style:{width:t.width+"px",height:t.height+"px"},attrs:{"canvas-id":"canvas"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideCanvas.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"share_set"},[n("v-uni-view",{staticClass:"share_option",style:{visibility:t.hideBtnSet?"hidden":"visible"}},[n("v-uni-image",{attrs:{src:t.downloadImg},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveForAlubm.apply(void 0,arguments)}}}),n("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveForAlubm.apply(void 0,arguments)}}},[t._v("保存到相册")])],1),n("v-uni-button",{staticClass:"under_button",style:{visibility:t.hideBtnSet?"visible":"hidden"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.junpAuthorization.apply(void 0,arguments)}}},[t._v("点击授权")])],1)],1)],1)},a=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},"487b1":function(t,e,n){"use strict";var i=n("803f"),o=n.n(i);o.a},"4a8f":function(t,e,n){"use strict";var i=n("dbce"),o=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var a=o(n("3b8d"));n("c5f6");var r=i(n("5cd2")),s=n("5e5c"),c=n("6e47"),u={data:function(){return{canvas:null,canvasComponent:null,hideShareCanvas:!0,shareCanvas:null,hideBtnSet:!1,hideBox:!0,downloadImg:s.DOWNLOAD_IMG,qRCodeUrl:""}},props:{width:{type:Number,required:!0},height:{type:Number,required:!0},config:{type:Object,defautl:function(){return{}}}},mounted:function(){this.canvasComponent=wx.createCanvasContext("canvas",this)},methods:{checkPermission:function(){var t=this;this.canvas&&this.canvas.checkPermission().then((function(e){e.code==r.renum.UNAUTHORIZED?t.showJump():e.code==r.renum.NOPERMISSION||e.code==r.renum.HASPERMISSION?t.showShareCanvas():console.warn("检测权限返回结果错误")}))},junpAuthorization:function(){r.IWX.invoke("openSetting")},showBox:function(){this.hideBox=!1},showShareCanvas:function(){this.hideBox=!1,this.hideShareCanvas=!1,this.hideBtnSet=!1},showJump:function(){this.hideBox=!1,this.hideShareCanvas=!1,this.hideBtnSet=!0},hideCanvas:function(t){t!=r.renum.INITIATIVE&&"box"!=t.currentTarget.dataset.mark||(this.hideBox=!0,this.hideShareCanvas=!0)},switchAuthorization:function(){this.hideCanvas(r.renum.INITIATIVE),this.hideBtnSet=!0},saveForAlubm:function(){var t=this;this.getTempImgPath().then((function(e){t.canvas.saveImgLocal(e).then((function(e){t.hideCanvas(r.renum.INITIATIVE)})).catch((function(e){t.switchAuthorization()}))}))},drawShareCanvas:function(){var t=this;this.canvas.draw().then((function(e){t.showShareCanvas()})).catch((function(e){e.code==r.renum.UNAUTHORIZED&&t.showJump()})).then((function(t){uni.hideLoading()}))},share:function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.t0=!this.miniCodeUrl,!t.t0){t.next=5;break}return t.next=4,this.genderMiniCode();case 4:this.miniCodeUrl=t.sent;case 5:null===this.canvas?(uni.showLoading({title:"正在加载"}),this.canvas=new r.default({ctx:this.canvasComponent,imgUrl:this.config.imgUrl,qRCodeUrl:this.qRCodeUrl,title:this.config.title,price:this.config.price,width:this.width,height:this.height,qRCodeWidth:280}),this.checkPermission(),this.showBox(),this.drawShareCanvas()):(this.showBox(),this.canvas.isDraw||this.drawShareCanvas(),this.checkPermission());case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getTempImgPath:function(){var t=this;return new Promise((function(e,n){uni.canvasToTempFilePath({x:0,y:0,canvasId:"canvas",success:function(t){e(t.tempFilePath)},fail:function(t){console.error(t)}},t)}))},genderMiniCode:function(){var t=this;return(0,c.getUnlimited)({page:this.config.jumpPath,scene:this.config.scene,width:600,is_hyaline:!0}).then((function(e){t.qRCodeUrl=e})).catch((function(e){t.hideCanvas(r.renum.INITIATIVE)}))}}};e.default=u},"4cc3":function(t,e,n){"use strict";n("20d6"),n("c5f6"),n("28a5"),n("a481"),n("6b54");var i=function(t){var e=t.getFullYear(),n=t.getMonth()+1,i=t.getDate(),a=t.getHours(),r=t.getMinutes(),s=t.getSeconds();return[e,n,i].map(o).join("/")+" "+[a,r,s].map(o).join(":")},o=function(t){return t=t.toString(),t[1]?t:"0"+t},a=function(t){t=t.toString().length<13?1e3*t:t;var e=new Date(t),n=e.getFullYear()+"-",i=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",o=(e.getDate()<10?"0"+e.getDate():e.getDate())+" ",a=(e.getHours()<10?"0"+e.getHours():e.getHours())+":",r=(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":",s=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return n+i+o+a+r+s},r=function(t,e){if(""===t.trim()){var n=e?e+"不可为空":"不可为空";return uni.showToast({title:n,icon:"none",mask:!0,duration:2e3}),!1}return!0},s=function(t,e){if(t=t.toString(),""===t.trim()){var n=e?e+"不可为空":"手机号不可为空";return uni.showToast({title:n,icon:"none",mask:!0,duration:2e3}),!1}var i=/^((13[0-9])|(14[5,7])|(15[0-3,5-9])|(17[0,3,5-8])|(18[0-9])|166|198|199|(147))\d{8}$/gi,o=i.test(t);if(!o){var a=e?"请输入正确"+e:"请输入正确手机号";return uni.showToast({title:a,icon:"none",mask:!0,duration:2e3}),!1}return!0},c=function(t,e){if(t=t.toString(),""===t.trim()){var n=e?e+"不可为空":"身份证不可为空";return uni.showToast({title:n,icon:"none",mask:!0,duration:2e3}),!1}if(18!=t.length){var i=e?"请输入正确"+e:"请输入正确身份证号";return uni.showToast({title:i,icon:"none",mask:!0,duration:2e3}),!1}return!0},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.ox,n=void 0===e?0:e,i=t.oy,o=void 0===i?0:i,a=t.ax,r=void 0===a?0:a,s=t.ay,c=void 0===s?0:s,u=t.angle,d=void 0===u?0:u,l={c:0,d:0};return l.c=parseInt(n+(r-n)*Math.cos(d)+(c-o)*Math.sin(d)),l.d=parseInt(o+(r-n)*-Math.sin(d)+(c-o)*Math.cos(d)),l},d=function(t){return null==t?0:("string"!=typeof t&&(t+=""),t.replace(/[^a-z]\d*/g,"01").length)};function l(t,e){var n,i,o;try{n=t.toString().split(".")[1].length}catch(a){n=0}try{i=e.toString().split(".")[1].length}catch(a){i=0}return o=Math.pow(10,Math.max(n,i)),((t*o+e*o)/o).toFixed(2)}function h(t,e){var n,i,o;try{n=t.toString().split(".")[1].length}catch(a){n=0}try{i=e.toString().split(".")[1].length}catch(a){i=0}return o=Math.pow(10,Math.max(n,i)),n>=i?n:i,((t*o-e*o)/o).toFixed(2)}function f(t,e){var n=0,i=t.toString(),o=e.toString();try{n+=i.split(".")[1].length}catch(a){}try{n+=o.split(".")[1].length}catch(a){}return Number(i.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,n)}function p(t,e){if("function"!==typeof t)return console.warn("func 参数必须是Function类型"),function(){};if("number"!==typeof e)return console.warn("delay 参数必须是Number类型"),function(){};var n=Date.now();return function(){Date.now()-n>=e&&(t.call(this,arguments),n=Date.now())}}function v(t,e){if("function"!==typeof t)return console.warn("func 参数必须是Function类型"),function(){};if("number"!==typeof e)return console.warn("wait 参数必须是Number类型"),function(){};var n=null;return function(){null!==n&&clearTimeout(n),n=setTimeout(t,e)}}function g(t){var e=getCurrentPages(),n=e.findIndex((function(e){return e.route==t.substring(1)}));-1!=n?uni.navigateBack({delta:e.length-n-1}):uni.navigateTo({url:t,fail:function(){uni.switchTab({url:t})}})}var b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.lat1,n=void 0===e?0:e,i=t.lng1,o=void 0===i?0:i,a=t.lat2,r=void 0===a?0:a,s=t.lng2,c=void 0===s?0:s,u=n*Math.PI/180,d=r*Math.PI/180,l=u-d,h=o*Math.PI/180-c*Math.PI/180,f=6378137,p=2*f*Math.asin(Math.sqrt(Math.pow(Math.sin(l/2),2)+Math.cos(u)*Math.cos(d)*Math.pow(Math.sin(h/2),2)));return parseInt(p)};t.exports={formatTime:i,time:a,checkRequestStr:r,checkPhone:s,checkIdCardLength:c,anglePoint:u,getBLen:d,accAdd:l,subtr:h,accMul:f,waterTap:p,debounce:v,toRoute:g,getDistance:b}},"53a9":function(t,e,n){"use strict";var i,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"promote-goods-box"},[n("v-uni-view",{staticClass:"search"},[n("search",{on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.searchChange.apply(void 0,arguments)}}})],1),t._l(t.list,(function(e,i){return n("v-uni-view",{key:i,staticClass:"goods",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goodsChange(i)}}},[n("LjlGoodsInfo",{attrs:{infor:e,checked:t.selectedIndex===i}})],1)})),n("v-uni-view",{staticClass:"submit-box"},[n("v-uni-view",{staticClass:"submit",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveToAlbum.apply(void 0,arguments)}}},[t._v("立即分享")]),n("v-uni-view",{staticClass:"cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navigateBack.apply(void 0,arguments)}}},[t._v("取消")])],1),n("share-canvas",{ref:"ShareCanvas",attrs:{config:t.shareConfig,width:250,height:400}}),n("v-uni-view",{staticClass:"share-pro"},[t.deliveryFlag?n("v-uni-view",{staticClass:"share-pro-mask"}):t._e(),n("v-uni-view",{staticClass:"share-pro-dialog",class:t.deliveryFlag?"open":"close"},[n("v-uni-view",{staticClass:"close-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeShareEvn.apply(void 0,arguments)}}},[n("span",{staticClass:"font_family"},[t._v("")])]),n("v-uni-view",{staticClass:"share-pro-title"},[t._v("分享")]),n("v-uni-view",{staticClass:"share-pro-body"},[n("v-uni-view",{staticClass:"share-item"},[n("v-uni-button",{attrs:{"open-type":"share"}},[n("v-uni-view",{staticClass:"font_family share-icon"},[t._v("")]),n("v-uni-view",[t._v("分享给好友")])],1)],1),n("v-uni-view",{staticClass:"share-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.createCanvasImageEvn.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"font_family share-icon"},[t._v("")]),n("v-uni-view",[t._v("生成分享图片")])],1)],1)],1)],1),n("hchPoster",{ref:"hchPoster",attrs:{canvasFlag:t.canvasFlag,posterObj:t.posterData},on:{"update:canvasFlag":function(e){arguments[0]=e=t.$handleEvent(e),t.canvasFlag=e},"update:canvas-flag":function(e){arguments[0]=e=t.$handleEvent(e),t.canvasFlag=e},cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.canvasCancel.apply(void 0,arguments)},"update:posterObj":function(e){arguments[0]=e=t.$handleEvent(e),t.posterData=e},"update:poster-obj":function(e){arguments[0]=e=t.$handleEvent(e),t.posterData=e}}}),n("v-uni-view",{attrs:{hidden:t.canvasFlag}},[n("v-uni-canvas",{staticClass:"canvas",attrs:{"canvas-id":"myCanvas"}})],1)],2)},a=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},"5cd2":function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.IWX=e.renum=e.Result=void 0,n("ac6a"),n("5df3");var o=i(n("d225")),a=i(n("b0b4"));n("28a5"),n("6b54");n("6e47");var r={stringSegment:function(t,e){for(var n=[],i="",o=0;o<t.length;o++)i+=t.charAt(o),o%e!=e-1&&o!=t.length-1||(n.push(i),i="");return n},add0InFront:function(t,e){if(t=t.toString(),t.length<e)for(var n=e-t.length,i=0;i<n;i++)t="0"+t;return t},invert:function(t){return t=t.toString(),t.split("").reverse().join("")},toCharBy62:function(t){return t=parseInt(t),t>=0&&t<=9?String.fromCharCode(t+48):t>=10&&t<=35?String.fromCharCode(t+87):t>=36&&t<=62?String.fromCharCode(t+29):(console.warn("该code无法转换为字符串,code必须大于等于0，小于或等于62"),null)},compression:function(t){var e="%3D",n="%26",i=(t.substring(t.indexOf(e)+e.length,t.indexOf(n)),t.substring(t.indexOf(e)+e.length));console.log(i)},isContain:function(t,e){return-1!==t.indexOf(e)}},s=function(){function t(e,n,i){(0,o.default)(this,t),this.code=e,this.msg=n,this.data=i}return(0,a.default)(t,[{key:"setData",value:function(t){return this.data=t,this}}]),t}();e.Result=s;var c={AUTHORIZEDSUCCESS:88,AUTHORIZEDFAILURE:89,UNAUTHORIZED:90,HASPERMISSION:91,NOPERMISSION:92,SUCCESS:93,FAIL:94,INITIATIVE:95};e.renum=c;var u={invoke:function(t,e){var n=new Promise((function(n,i){var o={success:function(t){n(new s(c.SUCCESS).setData(t))},fail:function(t){console.warn(t),i(new s(c.FAIL).setData(t))}};Object.assign(o,e),wx[t](o)}));return n},getIsPermission:function(t){var e=new Promise((function(e,n){wx.getSetting({success:function(n){t in n.authSetting&&n.authSetting[t]?e(new s(c.HASPERMISSION).setData(n)):(console.warn("没有"+t+"权限"),e(new s(c.NOPERMISSION).setData(n)))},fail:function(t){console.warn("权限检测失败"),n(new s(!1,"权限检测失败",t))}})}));return e}};e.IWX=u;var d=function(){function t(e){var n=e.ctx,i=e.imgUrl,a=e.qRCodeUrl,r=e.title,s=e.price,c=e.width,u=void 0===c?250:c,d=e.height,l=void 0===d?400:d,h=e.qRCodeWidth,f=void 0===h?280:h;(0,o.default)(this,t),this.ctx=n,this.backgroundColor="#fff",this.imgUrl=i,this.title=r,this.titleSize=14,this.titleColor="#262626",this.price=s,this.priceColor="#E02832",this.width=u,this.height=l,this.borderWidth=10,this.borderBottom=this.height/5,this.borderLineWidth=1,this.borderColor="#DEDEDE",this.borderAngle="miter",this.segmentLength=12,this.qRCodeUrl=a,this.qRCodeWidth=f,this.qRCodeDesc="长按图片，识别二维码查看商品详情",this.qRCodeDescSize=14,this.qRCodeDescColor="#262626",this.isDraw=!1}return(0,a.default)(t,null,[{key:"getCanvasById",value:function(t){return this}}]),(0,a.default)(t,[{key:"getSystemWidthHeight",value:function(){u.invoke("getSystemInfo").then((function(t){console.log(t)}))}},{key:"draw",value:function(){var t=this;return new Promise((function(e,n){var i=t.checkPermission().then((function(t){t.code==c.UNAUTHORIZED&&n(t)}));i.then((function(){var n=t.drawImg(),i=t.drawLittleProgramCode().then((function(e){t.drawCodeDesc()}));t.fillBackgroundColor(),t.drawRet();var o=r.stringSegment(t.title,t.segmentLength);t.drawTextArr(t.pruneTitleArr(o)),Promise.all([n,i]).then((function(n){t.ctx.draw(),t.isDraw=!0,e(c.SUCCESS)}))}))}))}},{key:"checkPermission",value:function(){return new Promise((function(t,e){u.getIsPermission("scope.writePhotosAlbum").then((function(e){e.code==c.NOPERMISSION&&!1===e.data.authSetting["scope.writePhotosAlbum"]?t(new s(c.UNAUTHORIZED)):e.code!=c.NOPERMISSION&&e.code!=c.HASPERMISSION||t(e)}))}))}},{key:"fillBackgroundColor",value:function(){this.ctx.setFillStyle(this.backgroundColor),this.ctx.fillRect(0,0,this.width,this.height)}},{key:"drawRet",value:function(){this.ctx.setStrokeStyle(this.borderColor);var t=this.width-2*this.borderWidth,e=this.height-this.borderBottom-this.borderWidth;this.drawLine(this.borderWidth,this.borderWidth,this.borderWidth,e+this.borderWidth),this.drawLine(this.borderWidth,this.height-this.borderBottom,t+this.borderWidth,e+this.borderWidth),this.drawLine(t+this.borderWidth,e+this.borderWidth,t+this.borderWidth,this.borderWidth),this.drawLine(t+this.borderWidth,this.borderWidth,this.borderWidth,this.borderWidth)}},{key:"drawLine",value:function(t,e,n,i){this.ctx.beginPath(),this.ctx.setStrokeStyle(this.borderColor),this.ctx.setLineWidth(this.borderLineWidth),this.ctx.setLineJoin(this.borderAngle),this.ctx.moveTo(t,e),this.ctx.lineTo(n,i),this.ctx.stroke()}},{key:"drawTextArr",value:function(t){var e=this,n=this.height-this.borderBottom-this.borderWidth,i=this.width-2*this.borderWidth,o=this.titleAlignSpacing(n,i,t);this.ctx.setFontSize(this.titleSize),this.ctx.setFillStyle(this.titleColor),this.ctx.setTextAlign("center"),t.forEach((function(t,n){2==n&&e.ctx.setFillStyle(e.priceColor),e.ctx.fillText(t,e.width/2,i+e.borderWidth+o+e.titleSize),o+=parseInt(1.5*e.titleSize)}))}},{key:"titleAlignSpacing",value:function(t,e,n){var i=parseInt((t-e-1.5*this.titleSize*n.length)/2),o=(t-e)/25;while(i<o&&this.titleSize>8)i<o&&this.titleSize--,i=parseInt((t-e-1.5*this.titleSize*n.length)/2);return i}},{key:"drawLittleProgramCode",value:function(){var t=this;return this.qRCodeWidth=this.borderBottom-2*this.borderWidth,new Promise((function(e,n){console.log(t.qRCodeUrl),u.invoke("getImageInfo",{src:t.qRCodeUrl}).then((function(n){t.ctx.drawImage(n.data.path,t.borderWidth,t.height-t.borderBottom+t.borderWidth,t.qRCodeWidth,t.qRCodeWidth),e(new s(!0,"绘制小程序码成功",n))}))}))}},{key:"pruneTitleArr",value:function(t){var e=[];return t.length>2&&(e[0]=t[0],e[1]=t[1].substring(-3)+"...",t=e),t.push("￥"+this.price.toFixed(2)),t}},{key:"drawImg",value:function(){var t=this;return new Promise((function(e,n){var i=t.ctx,o=t.borderWidth,a=t.width-2*t.borderWidth,r=t.urlConversion(t.imgUrl);u.invoke("getImageInfo",{src:r}).then((function(t){i.drawImage(t.data.path,o,o,a,a),e(new s(!0,"推广图绘制正中大图成功"))}))}))}},{key:"urlConversion",value:function(t){return t}},{key:"saveImgLocal",value:function(t){var e=this;return new Promise((function(n,i){e.checkPermission().then((function(o){o.code==c.UNAUTHORIZED?n(o):o.code==c.NOPERMISSION?e.applyAuthorization().then((function(e){u.invoke("saveImageToPhotosAlbum",{filePath:t}).then((function(t){n(new s(c.SUCCESS))})).catch((function(t){i(t)}))})).catch((function(t){i(t)})):o.code==c.HASPERMISSION&&u.invoke("saveImageToPhotosAlbum",{filePath:t}).then((function(t){n(new s(c.SUCCESS))})).catch((function(t){i(t)}))}))}))}},{key:"applyAuthorization",value:function(){return new Promise((function(t,e){u.invoke("authorize",{scope:"scope.writePhotosAlbum"}).then((function(e){t(new s(c.AUTHORIZEDSUCCESS))})).catch((function(t){console.warn("用户拒绝了授权"),e(new s(c.AUTHORIZEDFAILURE))}))}))}},{key:"drawCodeDesc",value:function(){var t=this,e=r.stringSegment(this.qRCodeDesc,10),n=this.codeDescAlignSpacing(e),i=(this.width-3*this.borderWidth-this.qRCodeWidth)/2+this.borderWidth+this.qRCodeWidth;this.ctx.setFontSize(this.qRCodeDescSize),this.ctx.setFillStyle(this.qRCodeDescColor),this.ctx.setTextAlign("center"),e.forEach((function(e,o){t.ctx.fillText(e,i,t.height-t.borderBottom+t.borderWidth+n+t.qRCodeDescSize),n+=parseInt(1.5*t.qRCodeDescSize)}))}},{key:"codeDescAlignSpacing",value:function(t){var e=parseInt((this.borderBottom-this.borderWidth-6*this.qRCodeDescSize/4*t.length)/2),n=this.borderBottom/10;while(e<n&&this.qRCodeDescSize>8)e<n&&this.qRCodeDescSize--,e=parseInt((this.borderBottom-this.borderWidth-6*this.qRCodeDescSize/4*t.length)/2);return e}}]),t}();e.default=d},"5d64":function(t,e,n){"use strict";n.r(e);var i=n("ec54"),o=n("f45c");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("654a");var r,s=n("f0c5"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"fed3cf0c",null,!1,i["a"],r);e["default"]=c.exports},"654a":function(t,e,n){"use strict";var i=n("f52d"),o=n.n(i);o.a},"6d67":function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("bd86"));n("28a5"),n("6c7b");var a={data:function(){return{}},props:{canvasFlag:{type:Boolean,default:!0},posterObj:{type:Object,default:{url:"https://img0.zuipin.cn/mp_zuipin/poster/hch-pro.jpg",icon:"https://img0.zuipin.cn/mp_zuipin/poster/hch-hyj.png",title:"诗酒茶系列 武夷大红袍 2018年 花香型中火 一级 体验装 16g",discountPrice:"250.00",orignPrice:"300.00",code:"https://img0.zuipin.cn/mp_zuipin/poster/hch-code.png"}}},methods:{roundRect:function(t,e,n,i,o,a,r,s,c){if(t.beginPath(),t.arc(e+a,n+a,a,Math.PI,1.5*Math.PI),t.moveTo(e+a,n),t.lineTo(e+i-a,n),t.arc(e+i-a,n+a,a,1.5*Math.PI,2*Math.PI),t.lineTo(e+i,n+o-a),t.arc(e+i-a,n+o-a,a,0,.5*Math.PI),t.arc(e+a,n+o-a,a,.5*Math.PI,Math.PI),t.lineTo(e,n+a),"btn"==c){var u=t.createLinearGradient(0,0,200,0);u.addColorStop(0,r),u.addColorStop(1,s),t.setFillStyle(u),t.fill()}else r&&(t.setFillStyle(r),t.fill()),s&&(t.setStrokeStyle(s),t.stroke());t.closePath(),t.clip()},canvasMultiLineText:function(t,e,n,i){for(var o=e.split(""),a="",r=[],s=0;s<o.length;s++)t.measureText(a).width<n?a+=o[s]:(s--,r.push(a),a="");if(r.push(a),r.length>i){for(var c=r.slice(0,i),u=c[1],d="",l=[],h=0;h<u.length;h++){if(!(t.measureText(d).width<n))break;d+=u[h]}l.push(d);var f=l[0]+"...";c.splice(i-1,1,f),r=c}return r},codeImg:function(){var t=this;return new Promise((function(e,n){request({method:"get",url:"/spSupport/getwxacodeunlimit",header:{"Content-Type":"application/x-www-form-urlencoded"},data:{version:t.$parent.globalData.version,scene:"sku=".concat(t.sku),page:"pages/product/detail",width:"128px"}}).then((function(t){if(0==t.data.code){var n=wx.getFileSystemManager(),i="tmp_img_src",a="".concat(wx.env.USER_DATA_PATH,"/").concat(i,".jpg");n.writeFile({filePath:a,data:t.data.data,encoding:"binary",success:function(){e(a)},fail:function(){this.canvasFlag=!0,uni.showToast({title:"海报生成失败",duration:2e3,icon:"none"})}})}else uni.showToast((0,o.default)({title:t.data.message,icon:"none",duration:2e3},"icon","none"))})).catch((function(){t.canvasFlag=!0,uni.showToast({title:"海报生成失败",duration:2e3,icon:"none"})}))}))},createCanvasImage:function(){var t=this;console.log(this.posterObj,"posterObj"),console.log("海报生成中"),wx.showLoading({title:"海报生成中..."});var e=this,n=wx.getSystemInfoSync();this.phoneH=n.windowHeight,this.phoneW=n.windowWidth;this.phoneW;var i=this.phoneH/667;console.log(this.phoneH,this.phoneW);var o=wx.createCanvasContext("myCanvas"),a=this.posterObj.url,r=this.posterObj.icon,s=this.posterObj.code,c="https://www.feiaizn.com/images/20200512152811_close_btn.png";console.log(o),console.log(this),o.draw(),o.save(),this.roundRect(o,50,40,this.phoneW-100,this.phoneH-120,10,"#fff","#fff"),o.restore(),o.save(),this.roundRect(o,50,40,this.phoneW-100,370*i,10,"#f7f7f7","#f7f7f7"),o.restore(),uni.getImageInfo({src:a,success:function(t){o.save(),e.roundRect(o,(e.phoneW-(e.phoneW-130))/2,55,e.phoneW-130,250*i,10,"#f7f7f7","#f7f7f7"),o.drawImage(t.path,(e.phoneW-(e.phoneW-130))/2,55,e.phoneW-130,250*i,10),o.restore(),o.draw(!0)},fail:function(){e.canvasFlag=!0,uni.showToast({title:"海报生成失败",duration:2e3,icon:"none"})}}),uni.getImageInfo({src:c,success:function(t){o.drawImage(t.path,e.phoneW-100+50+5,40,24,24),o.draw(!0)},fail:function(){e.canvasFlag=!0,uni.showToast({title:"海报生成失败",duration:2e3,icon:"none"})}}),setTimeout((function(){o.setGlobalAlpha(1),o.setFillStyle("#1c1c1c"),o.setFontSize(14),o.font="normal bold 14px sans-serif";for(var e=t.posterObj.title,n=t.canvasMultiLineText(o,e,t.phoneW-130,2),a=360,r=65,s=18,c=0;c<n.length;c++)o.fillText(n[c],r,(a+s*c-15)*i,t.phoneW-130),o.draw(!0)}),500),uni.getImageInfo({src:r,success:function(t){o.drawImage(t.path,65,380*i,44,15),o.draw(!0)},fail:function(){e.canvasFlag=!0,uni.showToast({title:"海报生成失败",duration:2e3,icon:"none"})}}),o.setFontSize(12),o.setFillStyle("#c00000"),o.font="normal 12px sans-serif",o.fillText("￥",110,396*i,60),o.setFontSize(16);var u=this.posterObj.discountPrice,d=this.posterObj.orignPrice,l=o.measureText(u).width;o.fillText(u,120,396*i,l),o.beginPath(),o.setFontSize(10),o.setFillStyle("#999");var h=o.measureText(d).width;o.fillText("￥".concat(d),120+l+5,395*i,h),o.moveTo(120+l+5,392*i),o.lineTo(120+l+5+h,392*i),o.setStrokeStyle("#999"),o.stroke(),o.closePath(),uni.getImageInfo({src:s,success:function(t){o.drawImage(t.path,(e.phoneW-70)/2,430*i,70,70),o.draw(!0)},fail:function(){e.canvasFlag=!0,uni.showToast({title:"海报生成失败",duration:2e3,icon:"none"})}}),o.setFontSize(14),o.setFillStyle("#2f1709"),o.font="normal bold 14px sans-serif",o.fillText("非客有家",(e.phoneW-60)/2,530*i,90),o.setFontSize(14),o.setFillStyle("#ff5f33"),o.font="normal 14px sans-serif",o.fillText("长按/扫描识别查看商品",(e.phoneW-140)/2,550*i,140),o.save(),this.roundRect(o,(this.phoneW-160)/2,this.phoneH-55,160,36,18,"#ff3600","#ff6a00","btn"),o.restore(),o.setFontSize(14),o.setFillStyle("#fff"),o.font="normal bold 14px sans-serif",o.fillText("保存图片",(e.phoneW-58)/2,this.phoneH-33,58),wx.hideLoading()},saveCanvasImage:function(){console.log("点击了保存"),wx.showLoading({title:"保存中..."});var t=this;uni.canvasToTempFilePath({x:50,y:40,width:this.phoneW-100,height:this.phoneH-120,destWidth:5*(this.phoneW-100),destHeight:5*(this.phoneH-120),canvasId:"myCanvas",success:function(e){uni.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(e){wx.hideLoading(),uni.showToast({title:"图片保存成功，可以去分享啦~",duration:2e3}),t.canvasCancelEvn()},fail:function(){uni.showToast({title:"保存失败，稍后再试",duration:2e3,icon:"none"}),wx.hideLoading()}})},fail:function(){uni.showToast({title:"保存失败，稍后再试",duration:2e3,icon:"none"}),wx.hideLoading()}})},canvasCancelEvn:function(){console.log(),this.$emit("cancel",!0)}}};e.default=a},"6e47":function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.getUnlimited=d,e.postDesigner=h,e.postPay=f,e.getWxCode=p,e.getWxUser=v,n("8e6e"),n("ac6a"),n("456d");var o=i(n("bd86"));n("96cf");var a=i(n("3b8d")),r=n("133c"),s=n("e2a7");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,o.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t){return l.apply(this,arguments)}function l(){return l=(0,a.default)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=getApp().globalData.accessToken,t.t0=!n,!t.t0){t.next=8;break}return t.next=5,(0,r.request)({method:"GET",url:s.GET_ACCESS_TOKEN});case 5:if(t.t1=n=t.sent.access_token,!t.t1){t.next=8;break}getApp().globalData.accessToken=n;case 8:return t.abrupt("return",(0,r.request)({method:"POST",url:s.GET_UNLIMITED,data:u({access_token:n},e)}));case 9:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function h(t){return(0,r.request)({method:"POST",url:s.SHE_JI_SHI,showSuccessToast:!0,data:t})}function f(t){return(0,r.request)({method:"POST",url:s.PAY,showLoading:!1,hideLoading:!1,data:t})}function p(t){return(0,r.request)({method:"GET",url:"".concat(s.WEIXIN_CODE,"?appid=").concat(t.appid,"&secret=").concat(t.secret,"&code=").concat(t.code),showLoading:!1,hideLoading:!1,data:t})}function v(t){return(0,r.request)({method:"GET",url:"".concat(s.WEIXIN_USERINFO,"?access_token=").concat(t.access_token,"&openid=").concat(t.openid),showLoading:!1,hideLoading:!1,data:t})}},7213:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* Color\r\n--------------------------*/\n/* distance\r\n--------------------------*/\n/* radius\r\n--------------------------*/\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.goods-info-box[data-v-fed3cf0c]{display:-webkit-box;display:-webkit-flex;display:flex;width:100%;height:%?300?%;position:relative}.goods-info-box uni-image[data-v-fed3cf0c]{width:%?200?%;height:%?200?%;margin-right:%?30?%}.goods-info-box .content .title[data-v-fed3cf0c]{color:#333;min-height:%?100?%;font-size:%?34?%;display:-webkit-box;\n    /* 流体布局 */-webkit-line-clamp:2;\n    /* 多行文字溢出点点点... */-webkit-box-orient:vertical;\n    /* 从上向下垂直排列子元素 */word-break:break-all;\n    /* 允许在单词内换行 */text-overflow:ellipsis;\n    /* 显示省略符号来代表被修剪的文本 */overflow:hidden}.goods-info-box .content .desc[data-v-fed3cf0c]{margin-top:%?10?%;font-size:%?24?%;color:#999;letter-spacing:%?5?%}.goods-info-box .content .rule[data-v-fed3cf0c]{margin-top:%?24?%;font-size:%?24?%;color:#999}.goods-info-box .content .rule uni-text[data-v-fed3cf0c]:nth-child(1){color:#e8541e;background:#fceee9;margin-right:%?26?%}.goods-info-box .selected[data-v-fed3cf0c]{width:%?32?%;height:%?32?%;position:absolute;top:%?200?%;right:%?30?%;border:%?5?% solid #eee;background:#eee}.goods-info-box .active[data-v-fed3cf0c]{background:#fad64c}',""]),t.exports=e},"803f":function(t,e,n){var i=n("9134");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("6db0fbe2",i,!0,{sourceMap:!1,shadowMode:!1})},9134:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* Color\r\n--------------------------*/\n/* distance\r\n--------------------------*/\n/* radius\r\n--------------------------*/\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.search-box[data-v-370d9227]{position:relative;width:100%;height:%?60?%;background:#f2f2f2}.search-box .icon[data-v-370d9227]{width:%?28?%;height:%?28?%;position:absolute;left:%?20?%;top:%?15?%;font-size:1em}.search-box uni-input[data-v-370d9227]{width:100%;height:100%;box-sizing:border-box;padding:%?7?% %?60?%;font-size:%?26?%}.search-box .placeholder-class[data-v-370d9227]{line-height:%?60?%}',""]),t.exports=e},9533:function(t,e,n){"use strict";var i=n("e135"),o=n.n(i);o.a},"96e6":function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var o,a=i(n("3b8d")),r=i(n("b15a")),s=i(n("5d64")),c=i(n("3cf0")),u=n("9d8f"),d=i(n("c214")),l=i(n("edbb")),h=n("4148"),f=n("6e47"),p={data:function(){return{selectedIndex:0,list:[],listQuery:{page:1,size:5,type:2},shareConfig:{},deliveryFlag:!1,canvasFlag:!0,posterData:{}}},onLoad:function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=this,t.next=3,this.getList();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onShow:function(){this.$refs.ShareCanvas.checkPermission()},methods:{createCanvasImageEvn:function(){var t=this;this.$forceUpdate(),setTimeout((function(){t.canvasFlag=!1,t.deliveryFlag=!1,t.$refs.hchPoster.createCanvasImage()}),500)},shareEvn:function(){this.deliveryFlag=!0},closeShareEvn:function(){this.deliveryFlag=!1},canvasCancel:function(t){this.canvasFlag=t},saveToAlbum:function(){var t=this;o.userInfo=(0,h.getStorage)("userInfo");var e=o.userInfo.id;console.log(e),(0,f.getUnlimited)({scene:e,width:600}).then((function(e){console.log(e),o.posterData.code=e,t.shareEvn()}))},goodsChange:function(t){this.selectedIndex=t,this.setShareConfig()},searchChange:function(t){console.log("搜索")},navigateBack:function(){uni.navigateBack({delta:1})},getList:function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(){var e,n,i,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.getGoodsList)(this.listQuery);case 2:for(e=t.sent.list,n=0,e.map(function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(e){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,u.getGoodsDetail)({id:e.uuid});case 2:i=t.sent.showimg[0].url,console.log(i),o.list.push({id:e.uuid,url:i,name:e.name,price:e.price,originalPrice:e.originalPrice}),0==n&&(o.posterData={url:i,icon:"https://www.feiaizn.com/images/20200515115542_zhehoujia.png",title:e.name,discountPrice:e.price,orignPrice:e.originalPrice,code:""},n++);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),console.log(this.list),i=0;i++;i<this.list.length);this.$forceUpdate();case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setShareConfig:function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this.list[this.selectedIndex],this.posterData={url:e.url,icon:"https://www.feiaizn.com/images/20200515115542_zhehoujia.png",title:e.name,discountPrice:e.price,orignPrice:e.originalPrice,code:""},this.$forceUpdate(),console.log(this.shareConfig);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),share:function(){this.$refs.ShareCanvas.share()}},components:{Search:r.default,LjlGoodsInfo:s.default,ShareCanvas:c.default,hchPoster:d.default,tkiQrcode:l.default}};e.default=p},9933:function(t,e,n){"use strict";var i=n("db03"),o=n.n(i);o.a},"9d8f":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getGoodsList=a,e.getGoodsDetail=r,e.getGoodsEvaluation=s,e.getGoodsConvert=c;var i=n("133c"),o=n("e2a7");function a(t){return(0,i.request)({method:"GET",url:o.LOAD_GOODS_LIST,showSuccessToast:!0,data:t})}function r(t){return(0,i.request)({method:"GET",url:o.LOAD_GOODS_DETAIL,showSuccessToast:!0,data:t})}function s(t){return(0,i.request)({method:"GET",url:o.LOAD_GOODS_EVALUATION,showSuccessToast:!0,data:t})}function c(t){var e=t.id,n=t.page,a=t.size;return(0,i.request)({url:"".concat(o.LOAD_GOODS_CONVERT,"?id=").concat(e,"&page=").concat(n,"&size=").concat(a),showSuccessToast:!0})}},b15a:function(t,e,n){"use strict";n.r(e);var i=n("40b9"),o=n("da14");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("487b1");var r,s=n("f0c5"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"370d9227",null,!1,i["a"],r);e["default"]=c.exports},b50c:function(t,e,n){"use strict";n.r(e);var i=n("6d67"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},b5b1:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* Color\r\n--------------------------*/\n/* distance\r\n--------------------------*/\n/* radius\r\n--------------------------*/\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.content[data-v-5bf69e94]{text-align:center;height:100%}.canvas_box .canvas_box_mask[data-v-5bf69e94]{width:100%;height:100%;position:fixed;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.5);z-index:9}.canvas_box .canvas[data-v-5bf69e94]{position:fixed!important;top:0!important;left:0!important;display:block!important;width:100%!important;height:100%!important;z-index:9}.canvas_box .button-wrapper[data-v-5bf69e94]{width:%?320?%;height:%?72?%;position:absolute;bottom:%?20?%;left:%?215?%;z-index:16}.canvas_box .save_btn[data-v-5bf69e94]{font-size:%?30?%;line-height:%?72?%;color:#fff;width:100%;height:100%;text-align:center;border-radius:%?45?%;border-radius:%?36?%;z-index:10}.canvas_box .canvas_close_btn[data-v-5bf69e94]{position:fixed;top:%?30?%;right:0;z-index:12}',""]),t.exports=e},b6c2:function(t,e,n){"use strict";n.r(e);var i=n("4a8f"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},bbc2:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* Color\r\n--------------------------*/\n/* distance\r\n--------------------------*/\n/* radius\r\n--------------------------*/\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-645aa8c2]{background:#fff}.promote-goods-box[data-v-645aa8c2]{box-sizing:border-box;padding:0 %?24?%}.promote-goods-box > uni-view[data-v-645aa8c2]{padding:%?20?% 0}.promote-goods-box .goods + .goods[data-v-645aa8c2]{border-top:%?1?% solid #eee}.promote-goods-box .submit-box[data-v-645aa8c2]{position:fixed;bottom:%?20?%;color:#fff;font-size:%?36?%;width:calc(100% - %?48?%)}.promote-goods-box .submit-box uni-view[data-v-645aa8c2]{width:100%;height:%?100?%;border:%?1?% solid #eee;text-align:center;line-height:%?100?%}.promote-goods-box .submit-box uni-view[data-v-645aa8c2]:nth-child(1){background-color:#fad64c;margin-bottom:%?12?%}.promote-goods-box .submit-box uni-view[data-v-645aa8c2]:nth-child(2){color:#333}@font-face{font-family:font_family;\n  /* project id 1065286 */src:url(//at.alicdn.com/t/font_1065286_3bsye5aijur.eot);src:url(//at.alicdn.com/t/font_1065286_3bsye5aijur.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_1065286_3bsye5aijur.woff2) format("woff2"),url(//at.alicdn.com/t/font_1065286_3bsye5aijur.woff) format("woff"),url(//at.alicdn.com/t/font_1065286_3bsye5aijur.ttf) format("truetype"),url(//at.alicdn.com/t/font_1065286_3bsye5aijur.svg#font_family) format("svg")}.font_family[data-v-645aa8c2]{font-family:font_family!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-webkit-text-stroke-width:.2px;-moz-osx-font-smoothing:grayscale}\n/* 按钮去掉边框 */uni-button[data-v-645aa8c2]::after{border:none}uni-button[data-v-645aa8c2]{margin-left:0;margin-right:0;padding-left:0;padding-right:0;line-height:1;color:#1c1c1c;font-size:%?28?%;background:none}.button-hover[data-v-645aa8c2]{color:#1c1c1c;background:none}\n/*每个页面公共css */.content[data-v-645aa8c2]{text-align:center;height:100%}.share-btn[data-v-645aa8c2]{padding:%?30?% %?60?%;background-color:#ff5f33;color:#fff}.share-pro[data-v-645aa8c2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;z-index:5;line-height:1;box-sizing:border-box\n  /* 显示或关闭内容时动画 */}.share-pro .share-pro-mask[data-v-645aa8c2]{width:100%;height:100%;position:fixed;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.5)}.share-pro .share-pro-dialog[data-v-645aa8c2]{width:%?750?%;height:%?310?%;overflow:hidden;background-color:#fff;border-radius:%?24?% %?24?% 0 0;position:relative;box-sizing:border-box;position:fixed;bottom:0}.share-pro .share-pro-dialog .close-btn[data-v-645aa8c2]{padding:%?20?% %?15?%;position:absolute;top:%?0?%;right:%?29?%}.share-pro .share-pro-dialog .share-pro-title[data-v-645aa8c2]{font-size:%?28?%;color:#1c1c1c;padding:%?28?% %?41?%;background-color:#f7f7f7}.share-pro .share-pro-dialog .share-pro-body[data-v-645aa8c2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:space-around;justify-content:space-around;font-size:%?28?%;color:#1c1c1c}.share-pro .share-pro-dialog .share-pro-body .share-item[data-v-645aa8c2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-justify-content:space-around;justify-content:space-around}.share-pro .share-pro-dialog .share-pro-body .share-item .share-icon[data-v-645aa8c2]{text-align:center;font-size:%?70?%;margin-top:%?39?%;margin-bottom:%?16?%;color:#42ae3c}.share-pro .share-pro-dialog .share-pro-body .share-item:nth-child(2) .share-icon[data-v-645aa8c2]{color:#ff5f33}.share-pro .open[data-v-645aa8c2]{-webkit-transition:all .3s ease-out;transition:all .3s ease-out;-webkit-transform:translateY(0);transform:translateY(0)}.share-pro .close[data-v-645aa8c2]{-webkit-transition:all .3s ease-out;transition:all .3s ease-out;-webkit-transform:translateY(%?310?%);transform:translateY(%?310?%)}.canvas[data-v-645aa8c2]{position:fixed!important;top:0!important;left:0!important;display:block!important;width:100%!important;height:100%!important;z-index:10}body.?%PAGE?%[data-v-645aa8c2]{background:#fff}',""]),t.exports=e},c214:function(t,e,n){"use strict";n.r(e);var i=n("caa9"),o=n("b50c");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("9933");var r,s=n("f0c5"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"5bf69e94",null,!1,i["a"],r);e["default"]=c.exports},caa9:function(t,e,n){"use strict";var i,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"canvas_box",attrs:{hidden:t.canvasFlag}},[n("v-uni-view",{staticClass:"canvas_box_mask"}),n("v-uni-icon",{staticClass:"canvas_close_btn",attrs:{type:"cancel",size:"60",color:"transparent"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.canvasCancelEvn.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"button-wrapper"},[n("v-uni-cover-view",{staticClass:"save_btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveCanvasImage.apply(void 0,arguments)}}})],1)],1)},a=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},cae9:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* Color\r\n--------------------------*/\n/* distance\r\n--------------------------*/\n/* radius\r\n--------------------------*/\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.canvas_box[data-v-c50793d0]{position:fixed;top:%?0?%;left:%?0?%;right:%?0?%;bottom:%?0?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:rgba(0,0,0,.7);z-index:999}.canvas_box uni-canvas[data-v-c50793d0]{-webkit-transform:translateY(-10%);transform:translateY(-10%);background-color:#fffffb}.share_set[data-v-c50793d0]{position:fixed;left:%?0?%;right:%?0?%;bottom:%?0?%;height:%?200?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.share_option[data-v-c50793d0]{width:33%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.share_option > uni-image[data-v-c50793d0]{width:%?100?%;height:%?100?%}.share_option > uni-text[data-v-c50793d0]{font-size:%?24?%;color:#fffffb;margin-top:%?10?%}.under_button[data-v-c50793d0]{background-color:initial;height:%?100?%;position:fixed;bottom:%?30?%;width:80%;color:#fffffb}',""]),t.exports=e},d771:function(t,e,n){"use strict";n.r(e);var i=n("53a9"),o=n("2ebd");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("256d");var r,s=n("f0c5"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"645aa8c2",null,!1,i["a"],r);e["default"]=c.exports},da14:function(t,e,n){"use strict";n.r(e);var i=n("3056"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},db03:function(t,e,n){var i=n("b5b1");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("5bdcebdf",i,!0,{sourceMap:!1,shadowMode:!1})},dbce:function(t,e){function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}t.exports=n},decb:function(t,e,n){var i=n("bbc2");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("0d43511e",i,!0,{sourceMap:!1,shadowMode:!1})},e135:function(t,e,n){var i=n("cae9");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("075a6c21",i,!0,{sourceMap:!1,shadowMode:!1})},ec54:function(t,e,n){"use strict";var i,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"goods-info-box"},[t.infor.url.length?n("v-uni-image",{attrs:{src:t.infor.url,mode:"aspectFill"}}):t._e(),n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"title"},[t._v(t._s(t.infor.name))]),n("v-uni-view",{staticClass:"desc"}),n("v-uni-view",{staticClass:"rule"},[n("v-uni-text",[t._v(t._s(t.infor.originalPrice))]),n("v-uni-text",[t._v(t._s(t.infor.price))])],1)],1),n("v-uni-view",{staticClass:"selected",class:t.checked?"active":""})],1)},a=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},f45c:function(t,e,n){"use strict";n.r(e);var i=n("1ee4"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},f52d:function(t,e,n){var i=n("7213");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("34fa11eb",i,!0,{sourceMap:!1,shadowMode:!1})}}]);