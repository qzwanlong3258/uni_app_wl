(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-todoChild-address-addressDetail-addressDetail"],{1763:function(e,t,n){"use strict";n.r(t);var s=n("8c30"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},4474:function(e,t,n){"use strict";n.r(t);var s=n("f396"),i=n("1763");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);n("814e");var a,o=n("f0c5"),d=Object(o["a"])(i["default"],s["b"],s["c"],!1,null,"0e786f0c",null,!1,s["a"],a);t["default"]=d.exports},"814e":function(e,t,n){"use strict";var s=n("b9a5"),i=n.n(s);i.a},"8c30":function(e,t,n){"use strict";var s=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("8e6e"),n("ac6a"),n("456d"),n("c5f6"),n("96cf");var i=s(n("3b8d")),r=s(n("bd86"));n("28a5"),n("7514");var a=s(n("7fc9")),o=(n("0ae1"),n("4d7d")),d=n("36ce");n("4cc3");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={data:function(){return{addressInfo:{name:"",phone:"",region:"",detailAddress:"",address:"",default:0},placeholderArea:"详情地址：如道路、门牌号、小区、楼栋号、单元室等",customItem:"全部",isExit:!1,isDisabledDefault:!1}},onLoad:function(e){this.options=e,e.id&&(this.addressInfo=this.getAddress(),this.isExit=!0),this.addressInfo.default&&(this.isDisabledDefault=!0)},methods:{getAddress:function(){var e=this,t=getApp().globalData.addressList.find((function(t){return t.id==e.options.id})),n=t.addres.split(" ");return u({},t,{region:n[0],detailAddress:n[1]})},bindRegionChange:function(e){var t=e.detail.value;t[0]===t[1]&&(t=t.slice(1)),this.addressInfo.region=t.join("")},getLoacation:function(){var e=this;uni.getSetting({success:function(t){t.authSetting["scope.userLocation"]?uni.chooseLocation({success:function(t){e.addressInfo.address="".concat(t.address,"(").concat(t.name,")")},fail:function(){uni.showToast({title:"获取位置失败",icon:"none"})}}):uni.authorize({scope:"scope.userLocation",success:function(){uni.chooseLocation({success:function(t){e.addressInfo.address="".concat(t.address,"(").concat(t.name,")")},fail:function(){uni.showToast({title:"获取位置失败",icon:"none"})}})}})}})},switch1Change:function(e){this.addressInfo.default=e.detail.value},checkAddress:function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.addressInfo.name?this.addressInfo.phone?this.addressInfo.region&&-1===this.addressInfo.region.indexOf("全部")?this.addressInfo.detailAddress||(t="详细地址不能为空"):t="所在区域不能为空":t="收货人手机号码不能为空":t="收货人不能为空",e.t0=t,!e.t0){e.next=5;break}return e.next=5,(0,d.model)({content:t,showCancel:!1});case 5:return e.abrupt("return",!t);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),submit:function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.addressInfo.address="".concat(this.addressInfo.region," ").concat(this.addressInfo.detailAddress),!this.addressInfo.id){e.next=7;break}return e.next=4,(0,o.updateReceiveAddress)(this.addressInfo);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,(0,o.addReceiveAddress)(this.addressInfo);case 9:e.t0=e.sent;case 10:if(t=e.t0,n=1===Number(t.count),e.t1=!n,!e.t1){e.next=16;break}return e.next=16,(0,d.model)({content:"地址提交失败，请重试",showCancel:!1});case 16:return e.abrupt("return",!!n&&t);case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),saveAddress:function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.checkAddress();case 2:if(e.t0=e.sent,!e.t0){e.next=7;break}return e.next=6,this.submit();case 6:e.t0=e.sent;case 7:if(!e.t0){e.next=10;break}this.$eventBus.$emit("refreshAddressList"),uni.navigateBack({delta:1});case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deleteAddress:function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,d.model)({content:"请问是否确认删除",showCancel:!0});case 2:t=e.sent,t.confirm&&(0,o.deleteReceiveAddress)({id:this.addressInfo.id}).then((function(e){n.$eventBus.$emit("refreshAddressList"),uni.navigateBack({delta:1})}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},components:{GxgButton:a.default}};t.default=f},aec5:function(e,t,n){var s=n("24fb");t=s(!1),t.push([e.i,'@charset "UTF-8";\n/* Color\r\n--------------------------*/\n/* distance\r\n--------------------------*/\n/* radius\r\n--------------------------*/\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.font-color[data-v-0e786f0c]{color:#8f8fa7}.form-imfor[data-v-0e786f0c]{width:100%;background:#fff;font-size:%?30?%}.form-imfor uni-view[data-v-0e786f0c]{height:%?90?%;border-bottom:%?1?% solid #eee;line-height:%?90?%}.form-imfor uni-input[data-v-0e786f0c]{width:%?640?%;line-height:%?90?%;padding-top:%?20?%;margin-left:%?20?%}.form-imfor .iconweizhi-tianchong[data-v-0e786f0c]{position:absolute;right:%?24?%;font-size:%?50?%;margin-top:%?-72?%}.choose-region[data-v-0e786f0c]{display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.choose-region uni-view[data-v-0e786f0c]{margin-left:%?20?%}.choose-region i[data-v-0e786f0c]{position:absolute;z-index:2;right:%?20?%;margin-top:%?-92?%;border:none}.detail-address[data-v-0e786f0c]{width:94%;height:%?140?%;background:#fff;padding:%?20?% 0;margin-left:3%}.line-box[data-v-0e786f0c]{border-bottom:.5px solid #eee;width:100%;height:%?2?%;display:block}.left-logo[data-v-0e786f0c]{right:%?20?%}.colunm-slider[data-v-0e786f0c]{width:100%;height:%?90?%;border-top:%?1?% solid #eee;border-bottom:%?1?% solid #eee;line-height:%?90?%;display:-webkit-box;display:flex;display:-webkit-flex;background:#fff;margin-top:%?40?%;font-size:%?32?%}.setting-address[data-v-0e786f0c]{margin-left:%?20?%}.colunm-slider uni-switch[data-v-0e786f0c]{position:absolute;right:%?20?%}.theme-color[data-v-0e786f0c]{margin-left:%?20?%}',""]),e.exports=t},b9a5:function(e,t,n){var s=n("aec5");"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=n("4f06").default;i("636b6edd",s,!0,{sourceMap:!1,shadowMode:!1})},f396:function(e,t,n){"use strict";var s,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"form-imfor primary-text-color content-font"},[n("v-uni-view",[n("v-uni-input",{staticClass:"content-font",attrs:{"placeholder-class":"font-color",placeholder:"收货人"},model:{value:e.addressInfo.name,callback:function(t){e.$set(e.addressInfo,"name",t)},expression:"addressInfo.name"}})],1),n("v-uni-view",[n("v-uni-input",{staticClass:"content-font",attrs:{type:"number","placeholder-class":"font-color",maxlength:"11",placeholder:"手机号码"},model:{value:e.addressInfo.phone,callback:function(t){e.$set(e.addressInfo,"phone",t)},expression:"addressInfo.phone"}})],1),n("v-uni-view",{staticClass:"choose-region content-font"},[n("v-uni-picker",{staticStyle:{width:"100%"},attrs:{mode:"region",value:e.addressInfo.region,"custom-item":e.customItem},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindRegionChange.apply(void 0,arguments)}}},[n("v-uni-view",{style:{color:e.addressInfo.region?"":"#8f8fa7"}},[e._v(e._s(e.addressInfo.region?e.addressInfo.region:"所在地区"))]),n("i",{staticClass:"iconfont iconright",style:{color:e.addressInfo.region?"":"#8f8fa7"}})],1)],1),n("v-uni-textarea",{staticClass:"detail-address content-font",attrs:{"placeholder-class":"font-color",placeholder:e.placeholderArea},model:{value:e.addressInfo.detailAddress,callback:function(t){e.$set(e.addressInfo,"detailAddress",t)},expression:"addressInfo.detailAddress"}}),n("v-uni-text",{staticClass:"line-box"})],1),n("v-uni-view",{staticClass:"colunm-slider title-font"},[n("v-uni-view",{staticClass:"setting-address"},[e._v("设为默认地址")]),n("v-uni-switch",{attrs:{disabled:e.isDisabledDefault,color:"#FFEA04",checked:e.addressInfo.default},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.switch1Change.apply(void 0,arguments)}}})],1),e.isExit?n("v-uni-view",{staticClass:"colunm-slider",staticStyle:{margin:"0"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.deleteAddress.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"theme-color"},[e._v("删除收货地址")])],1):e._e(),n("v-uni-view",{staticClass:"start-todo",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.saveAddress.apply(void 0,arguments)}}},[n("gxg-button",{staticClass:"cus-big-button"},[e._v("立即保存")])],1)],1)},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}))}}]);