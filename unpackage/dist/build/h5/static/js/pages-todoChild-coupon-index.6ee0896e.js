(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-todoChild-coupon-index"],{"01ac":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=e("5e5c"),i={data:function(){return{imgs:{NULL_DATA:a.NULL_DATA}}},props:{content:{type:String,default:"暂无数据"}}};t.default=i},"0872":function(n,t,e){var a=e("24fb");t=a(!1),t.push([n.i,'@charset "UTF-8";\n/* Color\r\n--------------------------*/\n/* distance\r\n--------------------------*/\n/* radius\r\n--------------------------*/\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.nullData_image[data-v-79870e83]{width:100%;height:%?300?%}.nullData_text[data-v-79870e83]{display:block;width:100%;text-align:center}',""]),n.exports=t},"21e5":function(n,t,e){"use strict";var a,i=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("v-uni-view",{staticClass:"nullData_view"},[e("v-uni-image",{staticClass:"nullData_image",attrs:{src:n.imgs.NULL_DATA,mode:"aspectFit"}}),e("v-uni-text",{staticClass:"nullData_text"},[n._v(n._s(n.content))])],1)},o=[];e.d(t,"b",(function(){return i})),e.d(t,"c",(function(){return o})),e.d(t,"a",(function(){return a}))},2450:function(n,t,e){var a=e("7ac6");"string"===typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);var i=e("4f06").default;i("da71850e",a,!0,{sourceMap:!1,shadowMode:!1})},"55ac":function(n,t,e){"use strict";var a=e("2450"),i=e.n(a);i.a},6919:function(n,t,e){"use strict";var a={"tki-qrcode":e("edbb").default},i=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("v-uni-view",{staticStyle:{padding:"60rpx 0"}},[n._l(n.list,(function(t,a){return e("v-uni-view",{key:a,staticStyle:{background:"#FFFFFF",padding:"20rpx 30rpx"}},[e("v-uni-view",{staticStyle:{height:"60rpx","line-height":"60rpx","border-bottom":"2rpx solid #F1F1F1",display:"flex","font-size":"30rpx"}},[e("v-uni-image",{staticStyle:{margin:"0 20rpx",width:"60rpx",height:"60rpx","vertical-align":"middle"},attrs:{src:t.logo,mode:"aspectFit"}}),e("v-uni-view",[n._v(n._s(t.name))])],1),n._l(t.volume,(function(t,a){return e("v-uni-view",{key:a,staticClass:"box"},[e("v-uni-image",{attrs:{src:n.img[0],mode:"widthFix"}}),e("v-uni-view",{staticClass:"bg"},[e("v-uni-view",{staticClass:"left",staticStyle:{"flex-basis":"200rpx","text-align":"center","line-height":"180rpx","font-size":"52rpx",color:"#FFEA04"}},[n._v("￥"+n._s(t.num))]),e("v-uni-view",{staticClass:"mid",staticStyle:{"padding-top":"60rpx",flex:"1"},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.qaz(t)}}},[e("v-uni-view",{staticClass:"mid-top",staticStyle:{color:"#FFFFFF","font-size":"24rpx","margin-bottom":"10rpx"}},[n._v(n._s(t.describe))]),e("v-uni-view",{staticClass:"mid-bot",staticStyle:{color:"#79758A","font-size":"18rpx"}},[n._v(n._s(t.begin)+"-"+n._s(t.end))])],1),e("v-uni-view",{staticClass:"right",staticStyle:{"flex-basis":"170rpx","text-align":"center","line-height":"180rpx","font-size":"26rpx",color:"#FFFFFF"},attrs:{hidden:"2"==t.state,"data-id":t.uuid},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.useCoupon.apply(void 0,arguments)}}},[n._v("去使用")]),e("v-uni-view",{staticClass:"right",staticStyle:{"flex-basis":"170rpx","text-align":"center","line-height":"180rpx","font-size":"26rpx",color:"#FFFFFF"},attrs:{hidden:"1"==t.state}},[n._v("已使用")])],1)],1)}))],2)})),e("tki-qrcode",{ref:"qrcode",attrs:{val:n.val,size:1e3,background:"#fff",foreground:"#1394DA",pdground:"#000",onval:!1,loadMake:!1,show:!1},on:{result:function(t){arguments[0]=t=n.$handleEvent(t),n.qrR.apply(void 0,arguments)}}}),n.list.length?n._e():e("null-data",{staticClass:"nullData_view"}),e("v-uni-view",{staticClass:"mask",style:{visibility:n.show?"visible":"hidden"}},[e("v-uni-view",{staticClass:"mask-box"},[e("v-uni-image",{staticStyle:{width:"100%"},attrs:{src:n.code,mode:"widthFix"}}),e("v-uni-image",{staticClass:"cross",attrs:{"data-tab":"close",src:n.img[1],model:"aspectFit"},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.handerCheckInChange.apply(void 0,arguments)}}})],1)],1)],2)},o=[];e.d(t,"b",(function(){return i})),e.d(t,"c",(function(){return o})),e.d(t,"a",(function(){return a}))},6946:function(n,t,e){"use strict";var a=e("a7bb"),i=e.n(a);i.a},"721e":function(n,t,e){"use strict";e.r(t);var a=e("21e5"),i=e("9f88");for(var o in i)"default"!==o&&function(n){e.d(t,n,(function(){return i[n]}))}(o);e("6946");var r,s=e("f0c5"),c=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"79870e83",null,!1,a["a"],r);t["default"]=c.exports},"7a3f":function(n,t,e){"use strict";var a=e("e66a"),i=e.n(a);i.a},"7ac6":function(n,t,e){var a=e("24fb");t=a(!1),t.push([n.i,".box[data-v-a0988d2c]{width:calc(100% - %?60?%);height:%?150?%;margin-bottom:%?30?%;background:#fff}.box uni-image[data-v-a0988d2c]{position:absolute;width:calc(100% - %?60?%)}.bg[data-v-a0988d2c]{width:calc(100% - %?60?%);height:%?150?%;position:absolute;display:-webkit-box;display:-webkit-flex;display:flex}.mask[data-v-a0988d2c]{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.6);left:0;top:0;z-index:99\n\t/* display: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center; */}.mask-box[data-v-a0988d2c]{width:%?600?%;height:%?700?%;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);text-align:center}.cross[data-v-a0988d2c]{width:%?80?%;height:%?80?%}",""]),n.exports=t},"82f2":function(n,t,e){"use strict";var a=e("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e("8e6e"),e("ac6a"),e("456d");var i=a(e("bd86"));e("a481"),e("28a5"),e("96cf");var o,r=a(e("3b8d")),s=e("5e5c"),c=a(e("721e")),u=a(e("edbb")),l=e("f9af");function d(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,a)}return e}function f(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?d(Object(e),!0).forEach((function(t){(0,i.default)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):d(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var p={components:{NullData:c.default,tkiQrcode:u.default},data:function(){return{img:[s.COUPON_BG,s.CROSS,s.COMPANY_LOGO],list:[],val:"",code:"",show:!1,imglogo:""}},methods:{qaz:function(n){console.log(n)},saveToAlbum:function(){this.$refs.qrcode._makeCode(),o.show=!o.show},qrR:function(n){o.code=n},useCoupon:function(n){var t=this;console.log(n);var e=n.currentTarget.dataset.id;console.log(2121);var a=0;a++,1==a&&(o.val="https://www.feiaizn.com/xj/index.html?code="+e,setTimeout((function(){t.saveToAlbum()}),100))},loadCouponNext:function(){var n=this;(0,l.loadCoupon)().then((function(t){t.list&&n.getList(t.list)}))},handerCheckInChange:function(){var n=(0,r.default)(regeneratorRuntime.mark((function n(t){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:this.show=!this.show,this.loadCouponNext();case 2:case"end":return n.stop()}}),n,this)})));function t(t){return n.apply(this,arguments)}return t}(),arrayToObj:function(n){for(var t={},e=0;e<n.length;e++)t[e]=n[e]},getList:function(n){console.log(n),o.list=n.map((function(n){var t=n.volume.split(",");console.log(t);var e=[];return t.map((function(n){var t=n.split(";"),a=t.map((function(n){return n.split(":")}));console.log(a);var i=new Object;a.map((function(n){i[n[0]]=n[1]})),console.log(i);var o=i.describe.replace(/[^0-9]/gi,"");i.num=o,e.push(i)})),f({},n,{volume:e})})),console.log(o.list)}},onLoad:function(n){o=this,this.getList(JSON.parse(n.data))}};t.default=p},"9f88":function(n,t,e){"use strict";e.r(t);var a=e("01ac"),i=e.n(a);for(var o in a)"default"!==o&&function(n){e.d(t,n,(function(){return a[n]}))}(o);t["default"]=i.a},a7bb:function(n,t,e){var a=e("0872");"string"===typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);var i=e("4f06").default;i("559ad9ec",a,!0,{sourceMap:!1,shadowMode:!1})},be12:function(n,t,e){"use strict";e.r(t);var a=e("82f2"),i=e.n(a);for(var o in a)"default"!==o&&function(n){e.d(t,n,(function(){return a[n]}))}(o);t["default"]=i.a},cf48:function(n,t,e){var a=e("24fb");t=a(!1),t.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* page{\n\tbackground: #FFFFFF;\n} */",""]),n.exports=t},dc42:function(n,t,e){"use strict";e.r(t);var a=e("6919"),i=e("be12");for(var o in i)"default"!==o&&function(n){e.d(t,n,(function(){return i[n]}))}(o);e("7a3f"),e("55ac");var r,s=e("f0c5"),c=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"a0988d2c",null,!1,a["a"],r);t["default"]=c.exports},e66a:function(n,t,e){var a=e("cf48");"string"===typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);var i=e("4f06").default;i("2dd3db90",a,!0,{sourceMap:!1,shadowMode:!1})},f9af:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShopList=o,t.getCoupon=r,t.postCoupon=s,t.loadCoupon=c;var a=e("133c"),i=e("e2a7");function o(n){return(0,a.request)({method:"GET",url:i.SHOP_LIST,data:n})}function r(n){return(0,a.request)({method:"GET",url:i.SHOP_COUPON,showLoading:!1,hideLoading:!1,data:n})}function s(n){return(0,a.request)({method:"POST",url:"".concat(i.GET_COUPON),showLoading:!1,hideLoading:!1,data:n})}function c(n){return(0,a.request)({method:"GET",url:i.MY_COUPON,showLoading:!1,hideLoading:!1,data:n})}}}]);