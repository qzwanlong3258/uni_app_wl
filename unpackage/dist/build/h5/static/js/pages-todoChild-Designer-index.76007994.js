(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-todoChild-Designer-index"],{"0499":function(t,e,n){"use strict";n.r(e);var a=n("a867"),r=n("699e");for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);n("a3a9"),n("fb08");var o,s=n("f0c5"),u=Object(s["a"])(r["default"],a["b"],a["c"],!1,null,"f5d8b814",null,!1,a["a"],o);e["default"]=u.exports},"0ae3":function(t,e,n){var a=n("4ee99");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=n("4f06").default;r("6d1e71e4",a,!0,{sourceMap:!1,shadowMode:!1})},"4ee99":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,"uni-page-body[data-v-f5d8b814]{background:#fff}body.?%PAGE?%[data-v-f5d8b814]{background:#fff}",""]),t.exports=e},"699e":function(t,e,n){"use strict";n.r(e);var a=n("8d10"),r=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=r.a},"6e47":function(t,e,n){"use strict";var a=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.getUnlimited=l,e.postDesigner=f,e.postPay=p,e.getWxCode=b,e.getWxUser=h,n("8e6e"),n("ac6a"),n("456d");var r=a(n("bd86"));n("96cf");var i=a(n("3b8d")),o=n("133c"),s=n("e2a7");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){(0,r.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t){return d.apply(this,arguments)}function d(){return d=(0,i.default)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=getApp().globalData.accessToken,t.t0=!n,!t.t0){t.next=8;break}return t.next=5,(0,o.request)({method:"GET",url:s.GET_ACCESS_TOKEN});case 5:if(t.t1=n=t.sent.access_token,!t.t1){t.next=8;break}getApp().globalData.accessToken=n;case 8:return t.abrupt("return",(0,o.request)({method:"POST",url:s.GET_UNLIMITED,data:c({access_token:n},e)}));case 9:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function f(t){return(0,o.request)({method:"POST",url:s.SHE_JI_SHI,showSuccessToast:!0,data:t})}function p(t){return(0,o.request)({method:"POST",url:s.PAY,showLoading:!1,hideLoading:!1,data:t})}function b(t){return(0,o.request)({method:"GET",url:"".concat(s.WEIXIN_CODE,"?appid=").concat(t.appid,"&secret=").concat(t.secret,"&code=").concat(t.code),showLoading:!1,hideLoading:!1,data:t})}function h(t){return(0,o.request)({method:"GET",url:"".concat(s.WEIXIN_USERINFO,"?access_token=").concat(t.access_token,"&openid=").concat(t.openid),showLoading:!1,hideLoading:!1,data:t})}},8757:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".hd[data-v-f5d8b814]{height:%?250?%;background:#eeb949;color:#fff;line-height:%?250?%;text-align:center;font-size:%?32?%;letter-spacing:%?1?%}.bd[data-v-f5d8b814]{padding:%?80?% %?20?%}.box[data-v-f5d8b814]{padding:%?20?% %?40?% %?20?% %?20?%;display:-webkit-box;display:-webkit-flex;display:flex;font-size:%?28?%;border-bottom:%?2?% solid #f1f1f1;margin-bottom:%?40?%}.box-left[data-v-f5d8b814]{-webkit-flex-basis:%?200?%;flex-basis:%?200?%;color:#333;text-align:left}.box-right[data-v-f5d8b814]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#666;text-align:right}.apptMeasureHome_ft[data-v-f5d8b814]{\n\t/* position: absolute;\n\tleft: 0;\n\tbottom: 20rpx; */width:100%;height:%?100?%;margin-top:60px}.btn[data-v-f5d8b814]{height:%?80?%;text-align:center;line-height:%?80?%;border-radius:20px;background:#ffe906;color:#000;margin-left:%?20?%;margin-right:%?20?%;box-shadow:0 2px 5px rgba(0,0,0,.3);font-size:14px;letter-spacing:2px}",""]),t.exports=e},"8d10":function(t,e,n){"use strict";var a=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("8e6e"),n("ac6a"),n("456d"),n("28a5");var r=a(n("bd86"));n("96cf");var i=a(n("3b8d")),o=n("6e47"),s=n("4148"),u=n("6479");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,r.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d,f=n("0ae1"),p=f.AUTH,b={data:function(){return{dataList:{},timeShow:!1,userInfo:{},role:[],showAuth:!1}},methods:{timeInput:function(t){""==t.detail.value?d.timeShow=!1:d.timeShow=!0},toast:function(t){uni.showToast({title:t,duration:2e3,icon:"none"})},submit:function(){var t=(0,i.default)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.dataList.name){t.next=3;break}return this.toast("请输入您的姓名"),t.abrupt("return");case 3:if(this.dataList.phone){t.next=6;break}return this.toast("请输入您的手机号码"),t.abrupt("return");case 6:if(this.dataList.ageNumber){t.next=9;break}return this.toast("请输入您的从业年限"),t.abrupt("return");case 9:if(this.dataList.unit){t.next=12;break}return this.toast("请输入您的现工作单位名称"),t.abrupt("return");case 12:if(console.log(this.role),console.log(this.role.length),0==this.role.length){t.next=23;break}e=0;case 16:if(!(e<this.role.length)){t.next=23;break}if("设计师"!=this.role[e]){t.next=20;break}return uni.showToast({title:"你已经是设计师",duration:2e3,icon:"none"}),t.abrupt("return");case 20:e++,t.next=16;break;case 23:return t.next=25,(0,u.getApplyId)();case 25:if(n=t.sent.applyId,!n){t.next=31;break}return t.next=29,(0,u.addScore)({id:n,integral:"50"});case 29:return t.next=31,(0,u.addScoreRecord)({userid:n,money:"50",msg:"邀请设计师赠送50积分"});case 31:return t.next=33,(0,o.postDesigner)(this.dataList).then((function(t){uni.showToast({title:"提交成功",icon:"success",duration:1e3}),setTimeout((function(){uni.navigateBack({delta:1})}),1e3)}));case 33:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},onLoad:function(){var t=(0,i.default)(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(d=this,e=(0,s.getStorage)("isLogin"),!e){t.next=13;break}return this.showAuth=!0,this.userInfo=(0,s.getStorage)("userInfo"),t.next=7,(0,u.getUserRole)();case 7:n=t.sent,console.log(n),l({},d.userInfo),n.roleName?this.role=n.roleName.split(","):this.role=[],t.next=17;break;case 13:if(a=getCurrentPages(),!(a.length>0&&0===p.indexOf("/"+a[a.length-1].route))){t.next=16;break}return t.abrupt("return");case 16:uni.reLaunch({url:"".concat(p,"?name=","designer")});case 17:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()};e.default=b},a3a9:function(t,e,n){"use strict";var a=n("0ae3"),r=n.n(a);r.a},a867:function(t,e,n){"use strict";var a,r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showAuth?n("v-uni-view",[n("v-uni-view",{staticClass:"hd"},[t._v("设计师认证信息")]),n("v-uni-view",{staticClass:"bd"},[n("v-uni-view",{staticClass:"box"},[n("v-uni-view",{staticClass:"box-left"},[t._v("姓名")]),n("v-uni-view",{staticClass:"box-right"},[n("v-uni-input",{attrs:{type:"text",placeholder:"请输入您的姓名"},model:{value:t.dataList.name,callback:function(e){t.$set(t.dataList,"name",e)},expression:"dataList.name"}})],1)],1),n("v-uni-view",{staticClass:"box"},[n("v-uni-view",{staticClass:"box-left"},[t._v("手机号码")]),n("v-uni-view",{staticClass:"box-right"},[n("v-uni-input",{attrs:{type:"number",maxlength:"11",placeholder:"请输入您的手机号码"},model:{value:t.dataList.phone,callback:function(e){t.$set(t.dataList,"phone",e)},expression:"dataList.phone"}})],1)],1),n("v-uni-view",{staticClass:"box"},[n("v-uni-view",{staticClass:"box-left"},[t._v("工作年限(年)")]),n("v-uni-view",{staticClass:"box-right",staticStyle:{position:"relative"}},[n("v-uni-input",{attrs:{type:"text",placeholder:"请输入您的从业年限"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.timeInput.apply(void 0,arguments)}},model:{value:t.dataList.ageNumber,callback:function(e){t.$set(t.dataList,"ageNumber",e)},expression:"dataList.ageNumber"}})],1)],1),n("v-uni-view",{staticClass:"box"},[n("v-uni-view",{staticClass:"box-left"},[t._v("工作单位名称")]),n("v-uni-view",{staticClass:"box-right"},[n("v-uni-input",{attrs:{type:"text",placeholder:"请输入您的现工作单位名称"},model:{value:t.dataList.unit,callback:function(e){t.$set(t.dataList,"unit",e)},expression:"dataList.unit"}})],1)],1)],1),n("v-uni-view",{staticClass:"apptMeasureHome_ft"},[n("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("提交")])],1)],1):t._e()},i=[];n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}))},df3e:function(t,e,n){var a=n("8757");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=n("4f06").default;r("68f7b3e2",a,!0,{sourceMap:!1,shadowMode:!1})},fb08:function(t,e,n){"use strict";var a=n("df3e"),r=n.n(a);r.a}}]);